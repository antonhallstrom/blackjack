"use strict";function renderBalance(a){$("#balance").text(a+".00")}function changeTurn(){maxBet=turn++<4?20:50}function renderChip(a,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t='\n        <div \n            class="'+e+'"\n            style="background-image: url('+a+'">\n        </div>\n  ';s?$("#splitBetZone").append(t):$("#playerBetZone").append(t)}function validateBet(a){return playerBet=a<=playerBalance&&a<=maxBet?a:0}function placeBet(a){renderBalance(playerBalance-=validateBet(a)),getOrplaceBetAnimation(a)}function getBetChip(a,e){var s=chipData["chip_"+a];return e?playerSplitBets.push(s.value):playerBets.push(s.value),renderChip(s.img,s.class,e||"")}function getOrplaceBetAnimation(a){return $(".addSub-text").text(a+".00")}function getSum(a,e){return a+e}function timesTwo(a){return 2*a}function reduceBets(){return playerBets.reduce(getSum,0)}function payToPlayer(){}function paysThreeToTwo(){}function paysTwoToOne(){}function findBestHand(a,e){return Math.max(a,e)}function checkBestHand(a,e){return findBestHand(compareHand(a),compareHand(e))}function displayDealerHand(){dealerHand.map(function(a){0!==dealerHand.indexOf(a)&&$("#dealer-stats").append(" "+a.value)})}function displayTurn(){$("#turn").text("Round: "+turn)}function revealAllDealerHand(){$("#dealer-stats").text("Dealer Hand: "+cardStatus(dealerHand))}function displayPlayerHand(){$("#player-stats").text("Player Hand: "+cardStatus(playerHand))}function displayPlayerSplit(){$("#split-stats").text("Player Split: "+cardStatus(playerSplitHand))}function updateForOneCard(){$("#split-stats").text("Player Split: "+playerSplitHand[0].value),$("#player-stats").text("Player Hand: "+playerHand[0].value)}function cardStatus(a){var e=a[0].value,s=a[1].value,t=a.reduce(function(a,e){return a+e.value},0),i=t+(a.some(function(a){return 1===a.value})?10:0);return 10===e&&1===s||1===e&&10===s?"blackjack":21===i||21===t?i:i<21||t<21?i:i>21||t>21?i:void 0}function dealerDraw(){var a=cardStatus(dealerHand);setTimeout(function(){return revealAllDealerHand(),"blackjack"===a?"blackjack":21===a?"21":a>17&&a<21?"stay!":a>21?"busted":void(a<=17&&setTimeout(dealsToDealer(open=!0),revealAllDealerHand(),dealerDraw(),1200))},1e3)}function evaluateBestHand(){setTimeout(function(){"blackjack"===cardStatus(playerHand)?(flipCard(),dealerDraw(),"blackjack"===cardStatus(dealerHand)?($(".display-result").text(cardStatus(playerHand)+"! Tie!"),animationDisplayResult(2500),renderBalance(playerBalance+reduceBets()),setTimeout(cleanTable,2e3),setTimeout(startTurn,3e3)):($(".display-result").text(cardStatus(playerHand)+"! You win!"),animationDisplayResult(2500),renderBalance(playerBalance+timesTwo(reduceBets())),changeTurn(),setTimeout(cleanTable,2e3),setTimeout(startTurn,3e3))):($(".display-result").text("Sorry, no blackjack! Keep going?"),animationDisplayResult(2500),enableButtons())},500)}function dealsToPlayer(a){var e=deck.splice(0,1)[0];a?playerSplitHand.push(e):playerHand.push(e);var s='\n      <div id="card">\n        <figure class="card-front" style="background-image: url('+e.img+')">\n        </figure>\n        <figure class="card-back"></figure>\n      </div>\n     ';a?$("#splitZone").append(s):$("#cardHolder").append(s)}function dealsToDealer(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=deck.splice(0,1)[0];dealerHand.push(e);var s='\n      <div id="card" class="card-dealer">\n        <figure class="card-front-dealer '+(a?"open":"closed")+'">\n        </figure>\n        <figure class="card-back-dealer '+(a?"closed":"open")+'" style="background-image: url('+e.img+')"></figure>\n      </div>\n     ';$("#dealerCardZone").append(s)}function flipCard(){$("#card").addClass("flipped")}function validateSplit(a,e){a[0].value===a[1].value&&e===!1&&playerBalance>=maxBet&&(validSplit.state=!0,placeBet(maxBet),getBetChip(maxBet,!0),playerSplitHand=playerHand.slice(0,1),playerHand.splice(0,1),$("#cardHolder").children(":first-child").appendTo("#splitZone"),setTimeout(updateForOneCard,300))}function ifSplitTrue(){validSplit.state===!0&&dealsToPlayer(open=!0)+dealsToPlayer(open=!1),setTimeout(displayPlayerHand(),displayPlayerSplit(),1e3)}function animationDisplayResult(a){$(".display-result").addClass("show-display-result"),setTimeout(function(){$(".display-result").removeClass("show-display-result")},a)}function cleanTable(){validSplit.reset(),removeChips(),returnCards(playerHand),returnCards(dealerHand),returnCards(playerSplitHand),clearHands(),removeCards(),clearStats(),resetSplitButton()}function removeChips(){$("#splitBetZone").empty(),$("#playerBetZone").empty()}function removeCards(){$("#splitZone").empty(),$("#cardHolder").empty(),$("#dealerCardZone").empty()}function returnCards(a){a.forEach(function(a,e){return deck.push(a)})}function clearHands(){playerHand=[],dealerHand=[],playerSplitHand=[]}function clearStats(){$("#dealer-stats").text("Dealer Hand: "),$("#player-stats").text("Player Hand: "),$("#split-stats").text("Player Split: ")}function resetSplitButton(){$(".split-button").removeAttr("disabled").removeClass("button-disabled")}function startTurn(){$(".start-window").remove(),displayTurn(),setTimeout(function(){placeBet(maxBet),getBetChip(maxBet,!1),$(".addSub-tooltip").addClass("show-tooltip"),setTimeout(dealsToPlayer,1200),setTimeout(dealsToDealer(!1),1400),setTimeout(function(){$(".addSub-tooltip").removeClass("show-tooltip")},700),setTimeout(dealsToPlayer,1600),setTimeout(dealsToDealer,1800),setTimeout(function(){displayDealerHand(),displayPlayerHand()},2e3),setTimeout(function(){$(".display-result").text("Dealer is checking your hand for blackjack..."),animationDisplayResult(1800)},2200),setTimeout(evaluateBestHand,5e3)},500)}function enableButtons(){$(".hit-button").removeAttr("disabled"),$(".split-button").removeAttr("disabled"),$(".double-button").removeAttr("disabled"),$(".stay-button").removeAttr("disabled")}function shuffle(a){for(var e,s,t=a.length;t;)e=Math.floor(Math.random()*t--),s=a[t],a[t]=a[e],a[e]=s;return a}var playerBalance=100,playerBet=0,turn=1,maxBet=20,playerBets=[],playerSplitBets=[];renderBalance(playerBalance);var cardData=[{img:"images/cards/10_of_clubs.svg",value:10},{img:"images/cards/10_of_diamonds.svg",value:10},{img:"images/cards/10_of_hearts.svg",value:10},{img:"images/cards/10_of_spades.svg",value:10},{img:"images/cards/2_of_clubs.svg",value:2},{img:"images/cards/2_of_diamonds.svg",value:2},{img:"images/cards/2_of_hearts.svg",value:2},{img:"images/cards/2_of_spades.svg",value:2},{img:"images/cards/3_of_clubs.svg",value:3},{img:"images/cards/3_of_diamonds.svg",value:3},{img:"images/cards/3_of_hearts.svg",value:3},{img:"images/cards/3_of_spades.svg",value:3},{img:"images/cards/4_of_clubs.svg",value:4},{img:"images/cards/4_of_diamonds.svg",value:4},{img:"images/cards/4_of_hearts.svg",value:4},{img:"images/cards/4_of_spades.svg",value:4},{img:"images/cards/5_of_clubs.svg",value:5},{img:"images/cards/5_of_diamonds.svg",value:5},{img:"images/cards/5_of_hearts.svg",value:5},{img:"images/cards/5_of_spades.svg",value:5},{img:"images/cards/6_of_clubs.svg",value:6},{img:"images/cards/6_of_diamonds.svg",value:6},{img:"images/cards/6_of_hearts.svg",value:6},{img:"images/cards/6_of_spades.svg",value:6},{img:"images/cards/7_of_clubs.svg",value:7},{img:"images/cards/7_of_diamonds.svg",value:7},{img:"images/cards/7_of_hearts.svg",value:7},{img:"images/cards/7_of_spades.svg",value:7},{img:"images/cards/8_of_clubs.svg",value:8},{img:"images/cards/8_of_diamonds.svg",value:8},{img:"images/cards/8_of_hearts.svg",value:8},{img:"images/cards/8_of_spades.svg",value:8},{img:"images/cards/9_of_clubs.svg",value:9},{img:"images/cards/9_of_diamonds.svg",value:9},{img:"images/cards/9_of_hearts.svg",value:9},{img:"images/cards/9_of_spades.svg",value:9},{img:"images/cards/ace_of_clubs.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/ace_of_hearts.svg",value:1},{img:"images/cards/ace_of_spades.svg",value:1},{img:"images/cards/jack_of_clubs2.svg",value:10},{img:"images/cards/jack_of_diamonds2.svg",value:10},{img:"images/cards/jack_of_hearts2.svg",value:10},{img:"images/cards/jack_of_spades2.svg",value:10},{img:"images/cards/king_of_clubs2.svg",value:10},{img:"images/cards/king_of_diamonds2.svg",value:10},{img:"images/cards/king_of_hearts2.svg",value:10},{img:"images/cards/king_of_spades2.svg",value:10},{img:"images/cards/queen_of_clubs2.svg",value:10},{img:"images/cards/queen_of_diamonds2.svg",value:10},{img:"images/cards/queen_of_hearts2.svg",value:10},{img:"images/cards/queen_of_spades2.svg",value:10}],testCardData=[{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/queen_of_spades2.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:10},{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:1}],preloadImage=function(a){return new Promise(function(e,s){var t=new Image;t.src=a,setTimeout(function(){t.onload=e(t),t.onerror=s},100)})};Promise.all(cardData.map(function(a){return preloadImage(a.img)})).then(function(a){$("#gameWindow").remove()});var chipData={chip_1:{img:"images/chips/chip-1.svg",value:1,class:"one"},chip_2:{img:"images/chips/chip-2.svg",value:2,class:"two"},chip_5:{img:"images/chips/chip-5.svg",value:5,class:"five"},chip_10:{img:"images/chips/chip-10.svg",value:10,class:"ten"},chip_20:{img:"../images/chips/chip-20.svg",value:20,class:"tweenty"},chip_50:{img:"../images/chips/chip-50.svg",value:50,class:"fifthy"},chip_100:{img:"images/chips/chip-100.svg",value:100,class:"hundred"}},playerHand=[],playerSplitHand=[],dealerHand=[],validSplit={state:!1,reset:function(){this.set=!1}};$(".split-button").on("click",function(){validateSplit(playerHand,validSplit.state)}),$(".hit-button").on("click",function(){return validSplit.state!==!1?ifSplitTrue():($(".split-button").attr("disabled","disabled").addClass("button-disabled"),dealsToPlayer(open=!1),displayPlayerHand(),void 0)}),$(".start-button").on("click",startTurn),$(".stay-button").on("click",function(){return flipCard(),dealerDraw()}),function(){$(".hit-button").attr("disabled","disabled"),$(".split-button").attr("disabled","disabled"),$(".double-button").attr("disabled","disabled"),$(".stay-button").attr("disabled","disabled")}();var cards=document.querySelectorAll(".card-front"),cardHolder=document.querySelector("#cardHolder"),splitZone=document.querySelector("#splitZone"),dealerCardZone=document.querySelector("#dealerCardZone"),deck=cardData;shuffle(deck),$(function(){$("#draggable").draggable()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbGFuY2UuanMiLCJjYWxjSGFuZC5qcyIsImRlYWxlci5qcyIsImRpc3BsYXkuanMiLCJyZXNldC5qcyIsInJ1bkdhbWUuanMiLCJzaHVmZmxlLmpzIiwiY2FyZERhdGEuanMiLCJjaGlwRGF0YS5qcyIsInNjcm9sbC5qcyIsInRvb2x0aXAuanMiXSwibmFtZXMiOlsicmVuZGVyQmFsYW5jZSIsInBsYXllckJhbGFuY2UiLCIkIiwidGV4dCIsImNoYW5nZVR1cm4iLCJtYXhCZXQiLCJ0dXJuIiwicmVuZGVyQ2hpcCIsImNoaXBJbWciLCJjaGlwQ2xhc3MiLCJzcGxpdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNoaXBFbGVtZW50IiwiYXBwZW5kIiwidmFsaWRhdGVCZXQiLCJiZXQiLCJwbGF5ZXJCZXQiLCJwbGFjZUJldCIsImdldE9ycGxhY2VCZXRBbmltYXRpb24iLCJnZXRCZXRDaGlwIiwiY2hpcCIsImNoaXBEYXRhIiwicGxheWVyU3BsaXRCZXRzIiwicHVzaCIsInZhbHVlIiwicGxheWVyQmV0cyIsImltZyIsImNsYXNzIiwiZ2V0U3VtIiwidG90YWwiLCJudW0iLCJ0aW1lc1R3byIsImEiLCJyZWR1Y2VCZXRzIiwicmVkdWNlIiwicGF5VG9QbGF5ZXIiLCJwYXlzVGhyZWVUb1R3byIsInBheXNUd29Ub09uZSIsImZpbmRCZXN0SGFuZCIsImhhbmRBIiwiaGFuZEIiLCJNYXRoIiwibWF4IiwiY2hlY2tCZXN0SGFuZCIsImNvbXBhcmVIYW5kIiwiZGlzcGxheURlYWxlckhhbmQiLCJkZWFsZXJIYW5kIiwibWFwIiwiZSIsImluZGV4T2YiLCJkaXNwbGF5VHVybiIsInJldmVhbEFsbERlYWxlckhhbmQiLCJjYXJkU3RhdHVzIiwiZGlzcGxheVBsYXllckhhbmQiLCJwbGF5ZXJIYW5kIiwiZGlzcGxheVBsYXllclNwbGl0IiwicGxheWVyU3BsaXRIYW5kIiwidXBkYXRlRm9yT25lQ2FyZCIsInBsYXllckNhcmRzIiwiZmlyc3RDYXJkVmFsdWUiLCJzZWNvbmRDYXJkVmFsdWUiLCJ0b3RhbFZhbHVlIiwibGFzdCIsImN1cnJlbnQiLCJ0b3RhbFZhbHVlV2l0aEFjZSIsInNvbWUiLCJjYXJkIiwiZGVhbGVyRHJhdyIsInNldFRpbWVvdXQiLCJkZWFsc1RvRGVhbGVyIiwib3BlbiIsImV2YWx1YXRlQmVzdEhhbmQiLCJmbGlwQ2FyZCIsImFuaW1hdGlvbkRpc3BsYXlSZXN1bHQiLCJjbGVhblRhYmxlIiwic3RhcnRUdXJuIiwiZW5hYmxlQnV0dG9ucyIsImRlYWxzVG9QbGF5ZXIiLCJkZWNrIiwic3BsaWNlIiwiY2FyZE1hcmt1cCIsImFkZENsYXNzIiwidmFsaWRhdGVTcGxpdCIsImFycmF5IiwibWF4U3BsaXQiLCJ2YWxpZFNwbGl0Iiwic3RhdGUiLCJzbGljZSIsImNoaWxkcmVuIiwiYXBwZW5kVG8iLCJpZlNwbGl0VHJ1ZSIsInRpbWUiLCJyZW1vdmVDbGFzcyIsInJlc2V0IiwicmVtb3ZlQ2hpcHMiLCJyZXR1cm5DYXJkcyIsImNsZWFySGFuZHMiLCJyZW1vdmVDYXJkcyIsImNsZWFyU3RhdHMiLCJyZXNldFNwbGl0QnV0dG9uIiwiZW1wdHkiLCJmb3JFYWNoIiwiaW5kZXgiLCJyZW1vdmVBdHRyIiwicmVtb3ZlIiwic2h1ZmZsZSIsImkiLCJ0IiwibSIsImZsb29yIiwicmFuZG9tIiwiY2FyZERhdGEiLCJ0ZXN0Q2FyZERhdGEiLCJwcmVsb2FkSW1hZ2UiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwib25lcnJvciIsImFsbCIsInRoZW4iLCJyZXMiLCJjaGlwXzEiLCJjaGlwXzIiLCJjaGlwXzUiLCJjaGlwXzEwIiwiY2hpcF8yMCIsImNoaXBfNTAiLCJjaGlwXzEwMCIsInRoaXMiLCJzZXQiLCJvbiIsImF0dHIiLCJjYXJkcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNhcmRIb2xkZXIiLCJxdWVyeVNlbGVjdG9yIiwic3BsaXRab25lIiwiZGVh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Q0FDTEYsTUFBTyxLQUVQRSxJQUFLLGdDQUNMRixNQUFPLEtBRVBFLElBQUssOEJBQ0xGLE1BQU8sSUFFUEUsSUFBSyxpQ0FDTEYsTUFBTyxJQUVQRSxJQUFLLCtCQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSyw4QkFDTEYsTUFBTyxJQUVQRSxJQUFLLGlDQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSywrQkFDTEYsTUFBTyxJQUVQRSxJQUFLLDhCQUNMRixNQUFPLElBRVBFLElBQUssaUNBQ0xGLE1BQU8sSUFFUEUsSUFBSywrQkFDTEYsTUFBTyxJQUVQRSxJQUFLLCtCQUNMRixNQUFPLElBRVBFLElBQUssOEJBQ0xGLE1BQU8sSUFFUEUsSUFBSyxpQ0FDTEYsTUFBTyxJQUVQRSxJQUFLLCtCQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSyw4QkFDTEYsTUFBTyxJQUVQRSxJQUFLLGlDQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSywrQkFDTEYsTUFBTyxJQUVQRSxJQUFLLDhCQUNMRixNQUFPLElBRVBFLElBQUssaUNBQ0xGLE1BQU8sSUFFUEUsSUFBSywrQkFDTEYsTUFBTyxJQUVQRSxJQUFLLCtCQUNMRixNQUFPLElBRVBFLElBQUssOEJBQ0xGLE1BQU8sSUFFUEUsSUFBSyxpQ0FDTEYsTUFBTyxJQUVQRSxJQUFLLCtCQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSyw4QkFDTEYsTUFBTyxJQUVQRSxJQUFLLGlDQUNMRixNQUFPLElBRVBFLElBQUssK0JBQ0xGLE1BQU8sSUFFUEUsSUFBSywrQkFDTEYsTUFBTyxJQUVQRSxJQUFLLGdDQUNMRixNQUFPLElBR1RFLElBQUssbUNBQ0hGLE1BQU8sSUFHUEUsSUFBSyxpQ0FDTEYsTUFBTyxJQUdQRSxJQUFLLGlDQUNMRixNQUFPLElBR1BFLElBQUssa0NBQ0xGLE1BQU8sS0FFUEUsSUFBSyxxQ0FDTEYsTUFBTyxLQUVQRSxJQUFLLG1DQUNMRixNQUFPLEtBRVBFLElBQUssbUNBQ0xGLE1BQU8sS0FFUEUsSUFBSyxrQ0FDTEYsTUFBTyxLQUVQRSxJQUFLLHFDQUNMRixNQUFPLEtBRVBFLElBQUssbUNBQ0xGLE1BQU8sS0FFUEUsSUFBSyxtQ0FDTEYsTUFBTyxLQUVQRSxJQUFLLG1DQUNMRixNQUFPLEtBRVBFLElBQUssc0NBQ0xGLE1BQU8sS0FFUEUsSUFBSyxvQ0FDTEYsTUFBTyxLQUVQRSxJQUFLLG9DQUNMRixNQUFPLEtBR0x3RixlQUVKdEYsSUFBSyxtQ0FDSEYsTUFBTyxJQUdQRSxJQUFLLG9DQUNMRixNQUFPLElBRVRFLElBQUssbUNBQ0hGLE1BQU8sS0FHVEUsSUFBSyxtQ0FDSEYsTUFBTyxJQUdURSxJQUFLLG1DQUNIRixNQUFPLElBT0p5RixhQUFlLFNBQUFDLEdBQUEsTUFBTyxJQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBQy9DLEdBQU0zRixHQUFNLEdBQUk0RixNQUNoQjVGLEdBQUk2RixJQUFNTCxFQUNWOUMsV0FBVyxXQUNQMUMsRUFBSThGLE9BQVNKLEVBQVExRixHQUNyQkEsRUFBSStGLFFBQVVKLEdBQ2YsT0FHUEYsU0FBUU8sSUFBSVgsU0FBU2hFLElBQUksU0FBQW1CLEdBQUEsTUFBUStDLGNBQWEvQyxFQUFLeEMsUUFBT2lHLEtBQUssU0FBQUMsR0FFM0Q1SCxFQUFHLGVBQWdCd0csVUN6TXZCLElBQU1uRixXQUNGd0csUUFDSW5HLElBQUssMEJBQ0xGLE1BQU8sRUFDUEcsTUFBTyxPQUVYbUcsUUFDSXBHLElBQUssMEJBQ0xGLE1BQU8sRUFDUEcsTUFBTyxPQUVYb0csUUFDSXJHLElBQUssMEJBQ0xGLE1BQU8sRUFDUEcsTUFBTyxRQUVYcUcsU0FDSXRHLElBQUssMkJBQ0xGLE1BQU8sR0FDUEcsTUFBTyxPQUdYc0csU0FDSXZHLElBQUssOEJBQ0xGLE1BQU8sR0FDUEcsTUFBTyxXQUVYdUcsU0FDSXhHLElBQUssOEJBQ0xGLE1BQU8sR0FDUEcsTUFBTyxVQUVYd0csVUFDSXpHLElBQUssNEJBQ0xGLE1BQU8sSUFDUEcsTUFBTyxZTnhCWDJCLGNBQ0FFLG1CQUNBVixjQUdFdUMsWUFFRkMsT0FBTyxFQUVQTyxNQUplLFdBS1p1QyxLQUFLQyxLQUFNLEdBNERsQnJJLEdBQUUsaUJBQWlCc0ksR0FBRyxRQUFTLFdBQzNCcEQsY0FBYzVCLFdBQVkrQixXQUFXQyxTQU16Q3RGLEVBQUUsZUFBZXNJLEdBQUcsUUFBUyxXQUN6QixNQUFHakQsWUFBV0MsU0FBVSxFQUlWSSxlQUhWMUYsRUFBRSxpQkFBaUJ1SSxLQUFLLFdBQVksWUFBWXRELFNBQVMsbUJBQ3pESixjQUFjUCxNQUFPLEdBQ3JCakIsb0JBRkFyRCxVR3ZGUkEsRUFBRSxpQkFBaUJzSSxHQUFHLFFBQVMzRCxXQTZDL0IzRSxFQUFFLGdCQUFnQnNJLEdBQUcsUUFBUyxXQUV6QixNQURBOUQsWUFDT0wsZUFJWixXQUNJbkUsRUFBRSxlQUFldUksS0FBSyxXQUFZLFlBQ2xDdkksRUFBRSxpQkFBaUJ1SSxLQUFLLFdBQVksWUFDcEN2SSxFQUFFLGtCQUFrQnVJLEtBQUssV0FBWSxZQUNyQ3ZJLEVBQUUsZ0JBQWdCdUksS0FBSyxXQUFZLGNJMUR2QyxJQUFNQyxPQUFRQyxTQUFTQyxpQkFBaUIsZUFDbENDLFdBQWFGLFNBQVNHLGNBQWMsZUFDcENDLFVBQVlKLFNBQVNHLGNBQWMsY0FDbkNFLGVBQWlCTCxTQUFTRyxjQUFjLG1CSEZ4QzlELEtBQU9pQyxRQXFCYk4sU0FBUTNCLE1JckJSOUUsRUFBRyxXQUNDQSxFQUFHLGNBQWUrSSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHBsYXllckJhbGFuY2UgPSAxMDA7XG5sZXQgcGxheWVyQmV0ID0gMDtcbmxldCB0dXJuID0gMTtcbmxldCBtYXhCZXQgPSAyMDtcbmxldCBwbGF5ZXJCZXRzID0gW107XG5sZXQgcGxheWVyU3BsaXRCZXRzID0gW107XG5yZW5kZXJCYWxhbmNlKHBsYXllckJhbGFuY2UpO1xuXG5mdW5jdGlvbiByZW5kZXJCYWxhbmNlKHBsYXllckJhbGFuY2UpIHtcbsKgwqDCoMKgJCgnI2JhbGFuY2UnKS50ZXh0KHBsYXllckJhbGFuY2UgKyAnLjAwJyk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZVR1cm4oKSB7XG7CoMKgwqDCoG1heEJldCA9IHR1cm4rKyA8IDQgPyAyMCA6IDUwO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDaGlwKGNoaXBJbWcsIGNoaXBDbGFzcywgc3BsaXQgPSBmYWxzZSkge1xuwqDCoMKgwqBjb25zdCBjaGlwRWxlbWVudCA9IGBcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzPVwiJHtjaGlwQ2xhc3N9XCJcbsKgwqDCoMKgICAgICAgICBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgke2NoaXBJbWd9XCI+XG4gICAgICAgIDwvZGl2PlxuICBgO1xuwqAgIMKgc3BsaXQgPyAkKCcjc3BsaXRCZXRab25lJykuYXBwZW5kKGNoaXBFbGVtZW50KSA6ICQoJyNwbGF5ZXJCZXRab25lJykuYXBwZW5kKGNoaXBFbGVtZW50KTtcblxufVxuXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVCZXQoYmV0KSB7XG7CoMKgwqDCoHJldHVybiBwbGF5ZXJCZXQgPSAoYmV0IDw9IHBsYXllckJhbGFuY2UgJiYgYmV0IDw9IG1heEJldCkgPyBiZXQgOiAwO1xufVxuXG5mdW5jdGlvbiBwbGFjZUJldChiZXQpIHtcbsKgwqDCoMKgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSAtIHZhbGlkYXRlQmV0KGJldCkpLFxuICAgIGdldE9ycGxhY2VCZXRBbmltYXRpb24oYmV0KTtcbn1cblxuZnVuY3Rpb24gZ2V0QmV0Q2hpcChiZXQsIHNwbGl0KSB7XG7CoMKgwqDCoGNvbnN0IGNoaXAgPSBjaGlwRGF0YVtgY2hpcF8ke2JldH1gXTtcbiAgICBzcGxpdCA/IHBsYXllclNwbGl0QmV0cy5wdXNoKGNoaXAudmFsdWUpIDogcGxheWVyQmV0cy5wdXNoKGNoaXAudmFsdWUpO1xuwqDCoMKgwqByZXR1cm4gcmVuZGVyQ2hpcChjaGlwLmltZywgY2hpcC5jbGFzcywgc3BsaXQgfHwgJycpO1xufTtcblxuZnVuY3Rpb24gZ2V0T3JwbGFjZUJldEFuaW1hdGlvbihiZXQpIHtcbiAgICByZXR1cm4gJCgnLmFkZFN1Yi10ZXh0JykudGV4dChiZXQgKyAnLjAwJyk7XG59XG5cbmZ1bmN0aW9uIGdldFN1bSh0b3RhbCwgbnVtKSB7XG4gICAgcmV0dXJuIHRvdGFsICsgbnVtO1xufVxuXG5mdW5jdGlvbiB0aW1lc1R3byhhKSB7XG4gcmV0dXJuIGEgKiAyO1xufVxuXG5mdW5jdGlvbiByZWR1Y2VCZXRzKCkge1xuICAgcmV0dXJuIHBsYXllckJldHMucmVkdWNlKGdldFN1bSwwKTtcbn1cblxuZnVuY3Rpb24gcGF5VG9QbGF5ZXIoKSB7XG4gICAgXG59XG5cbi8vIEJsYWNrSmFja1xuZnVuY3Rpb24gcGF5c1RocmVlVG9Ud28oKSB7XG4gICAgXG59XG5cbi8vIEluc3VyYW5jZVxuZnVuY3Rpb24gcGF5c1R3b1RvT25lKCkge1xuICAgIFxufVxuXG5cbiIsIlxuXG5cblxuZnVuY3Rpb24gZmluZEJlc3RIYW5kKGhhbmRBLCBoYW5kQikge1xuICAgIHJldHVybiBNYXRoLm1heChoYW5kQSwgaGFuZEIpO1xufVxuXG5mdW5jdGlvbiBjaGVja0Jlc3RIYW5kKGhhbmRBLCBoYW5kQikge1xuICByZXR1cm4gZmluZEJlc3RIYW5kKGNvbXBhcmVIYW5kKGhhbmRBKSwgY29tcGFyZUhhbmQoaGFuZEIpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheURlYWxlckhhbmQoKSB7XG4gICAgZGVhbGVySGFuZC5tYXAoZnVuY3Rpb24oZSl7XG4gICAgICBpZiAoZGVhbGVySGFuZC5pbmRleE9mKGUpICE9PSAwKXtcbiAgICAgICAgJCgnI2RlYWxlci1zdGF0cycpLmFwcGVuZCgnICcgKyBlLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBmYWxzZTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVR1cm4oKSB7XG4gICAgJCgnI3R1cm4nKS50ZXh0KCdSb3VuZDogJyArIHR1cm4pO1xufVxuXG5mdW5jdGlvbiByZXZlYWxBbGxEZWFsZXJIYW5kKCkge1xuICAgICQoJyNkZWFsZXItc3RhdHMnKS50ZXh0KCdEZWFsZXIgSGFuZDogJyArIGNhcmRTdGF0dXMoZGVhbGVySGFuZCkpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5UGxheWVySGFuZCgpIHtcbiAgICAkKCcjcGxheWVyLXN0YXRzJykudGV4dCgnUGxheWVyIEhhbmQ6ICcgKyBjYXJkU3RhdHVzKHBsYXllckhhbmQpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVBsYXllclNwbGl0KCkge1xuICAgICQoJyNzcGxpdC1zdGF0cycpLnRleHQoJ1BsYXllciBTcGxpdDogJyArIGNhcmRTdGF0dXMocGxheWVyU3BsaXRIYW5kKSk7XG4gfVxuXG5mdW5jdGlvbiB1cGRhdGVGb3JPbmVDYXJkKCkge1xuICAgICAgJCgnI3NwbGl0LXN0YXRzJykudGV4dCgnUGxheWVyIFNwbGl0OiAnICsgcGxheWVyU3BsaXRIYW5kWzBdLnZhbHVlKTtcbiAgICAgICQoJyNwbGF5ZXItc3RhdHMnKS50ZXh0KCdQbGF5ZXIgSGFuZDogJyArIHBsYXllckhhbmRbMF0udmFsdWUpO1xufVxuXG5mdW5jdGlvbiBjYXJkU3RhdHVzKHBsYXllckNhcmRzKSB7XG7CoMKgY29uc3QgZmlyc3RDYXJkVmFsdWUgPSBwbGF5ZXJDYXJkc1swXS52YWx1ZTtcbsKgwqBjb25zdCBzZWNvbmRDYXJkVmFsdWUgPSBwbGF5ZXJDYXJkc1sxXS52YWx1ZTtcbsKgwqBjb25zdCB0b3RhbFZhbHVlID0gcGxheWVyQ2FyZHMucmVkdWNlKChsYXN0LCBjdXJyZW50KSA9PiBsYXN0ICsgY3VycmVudC52YWx1ZSwgMCk7XG7CoMKgY29uc3QgdG90YWxWYWx1ZVdpdGhBY2UgPSB0b3RhbFZhbHVlICsgKHBsYXllckNhcmRzLnNvbWUoY2FyZCA9PiBjYXJkLnZhbHVlID09PSAxKSA/IDEwIDogMCk7XG7CoMKgaWYgKCBmaXJzdENhcmRWYWx1ZSA9PT0gMTAgJiYgc2Vjb25kQ2FyZFZhbHVlID09PSAxIHx8XG7CoMKgwqDCoGZpcnN0Q2FyZFZhbHVlID09PSAxICYmIHNlY29uZENhcmRWYWx1ZSA9PT0gMTApIHJldHVybiAnYmxhY2tqYWNrJztcbsKgwqBpZiAodG90YWxWYWx1ZVdpdGhBY2UgPT09IDIxIHx8IHRvdGFsVmFsdWUgPT09IDIxKSByZXR1cm4gJzIxJywgdG90YWxWYWx1ZVdpdGhBY2U7XG7CoMKgaWYgKHRvdGFsVmFsdWVXaXRoQWNlIDwgMjEgfHwgdG90YWxWYWx1ZSA8IDIxKSByZXR1cm4gJ2tlZXAgZ29pbmc/JywgdG90YWxWYWx1ZVdpdGhBY2U7XG7CoMKgaWYgKHRvdGFsVmFsdWVXaXRoQWNlID4gMjEgfHwgdG90YWxWYWx1ZSA+IDIxKSByZXR1cm4gJ0ZBVFRZIEZBVFRZJywgdG90YWxWYWx1ZVdpdGhBY2U7XG59XG5cbmZ1bmN0aW9uIGRlYWxlckRyYXcoKSB7XG4gIMKgY29uc3QgdG90YWxWYWx1ZSA9IGNhcmRTdGF0dXMoZGVhbGVySGFuZCk7XG4gc2V0VGltZW91dCggKCkgPT4ge1xuICAgcmV2ZWFsQWxsRGVhbGVySGFuZCgpO1xuICBpZih0b3RhbFZhbHVlID09PSAnYmxhY2tqYWNrJykgcmV0dXJuICdibGFja2phY2snXG7CoMKgaWYodG90YWxWYWx1ZSA9PT0gMjEpIHJldHVybiAnMjEnXG7CoMKgaWYodG90YWxWYWx1ZSA+IDE3ICYmIHRvdGFsVmFsdWUgPCAyMSnCoMKgcmV0dXJuICdzdGF5ISdcbsKgwqBpZih0b3RhbFZhbHVlID4gMjEpIHJldHVybiAnYnVzdGVkJ1xuwqDCoGlmKHRvdGFsVmFsdWUgPD0gMTcpIHtcbiAgc2V0VGltZW91dChkZWFsc1RvRGVhbGVyKG9wZW4gPSB0cnVlKSxyZXZlYWxBbGxEZWFsZXJIYW5kKCksIGRlYWxlckRyYXcoKSwgMTIwMCk7XG7CoMKgfVxuICB9LDEwMDApXG7CoH1cblxuXG5cbmZ1bmN0aW9uIGV2YWx1YXRlQmVzdEhhbmQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gIGlmKGNhcmRTdGF0dXMocGxheWVySGFuZCkgPT09ICdibGFja2phY2snKSB7XG4gICAgICBmbGlwQ2FyZCgpOyBcbiAgICAgIGRlYWxlckRyYXcoKTtcbiAgICBpZiAoY2FyZFN0YXR1cyhkZWFsZXJIYW5kKSA9PT0gJ2JsYWNramFjaycpIHtcbiAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykudGV4dChjYXJkU3RhdHVzKHBsYXllckhhbmQpICsgJyEgVGllIScpO1xuICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDI1MDApO1xuICAgICAgICByZW5kZXJCYWxhbmNlKHBsYXllckJhbGFuY2UgKyByZWR1Y2VCZXRzKCkpO1xuICAgICAgICBzZXRUaW1lb3V0KGNsZWFuVGFibGUsMjAwMClcbiAgICAgICAgc2V0VGltZW91dChzdGFydFR1cm4sMzAwMClcbiAgICAgfSBlbHNlIHtcbiAgICAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnRleHQoY2FyZFN0YXR1cyhwbGF5ZXJIYW5kKSArICchIFlvdSB3aW4hJyk7XG4gICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDI1MDApO1xuICAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlICsgdGltZXNUd28ocmVkdWNlQmV0cygpKSk7XG4gICAgICAgICBjaGFuZ2VUdXJuKCk7XG4gICAgICAgICBzZXRUaW1lb3V0KGNsZWFuVGFibGUsMjAwMClcbiAgICAgICAgIHNldFRpbWVvdXQoc3RhcnRUdXJuLDMwMDApXG4gICAgIH1cbiAgfSBlbHNlIHtcbiAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnRleHQoJ1NvcnJ5LCBubyBibGFja2phY2shIEtlZXAgZ29pbmc/Jyk7XG4gICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICBlbmFibGVCdXR0b25zKCk7XG4gIH0gXG4gIH0sNTAwKTtcbn1cblxuIFxuIiwiLy8gNC4gRGVhbGVyIGxvZ2ljXG4vLyBEZWFsZXIgc2hvdWxkIGhhbmQgdXQgY2FyZCB0byBwbGF5ZXIgb25lIGF0IGEgdGltZVxuLy8gU28gZmlyc3Qgb25lIGNhcmQgdG8gbWUgdGhlbiBvbmUgZmFjZSBkb3duIHRvIHRoZSBEZWFsZXJcbi8vIFRoZW4gYW5vdGhlciB0byBtZSB0aGVuIGEgZmFjZS11cCB0byB0aGUgZGVhbGVyLlxuXG4vLyB3ZSB3aWxsIHNwbGljZSgwLCAxKSB0byBkcmF3IGEgY2FyZC5cblxuLy8gSG93IHRvIHBsYWNlIGEgY2FyZCB0byB0aGUgcGxheWVyLlxuXG4vLyBIb3cgdG8gcGxhY2UgYSBjYXJkIHRvIHRoZSBkZWFsZXIgZmFjZS1kb3duLlxuXG5sZXQgcGxheWVySGFuZCA9IFtdO1xubGV0IHBsYXllclNwbGl0SGFuZCA9IFtdO1xubGV0IGRlYWxlckhhbmQgPSBbXTtcblxuXG5jb25zdCB2YWxpZFNwbGl0ID0ge1xuICAgIFxuICAgIHN0YXRlOiBmYWxzZSxcbiAgIFxuICAgIHJlc2V0KCkge1xuICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XG4gICAgfVxufTtcblxuXG5mdW5jdGlvbiBkZWFsc1RvUGxheWVyKHNwbGl0KSB7XG4gICAgLy8gRGVhbHMgdG9wIGNhcmQgdG8gcGxheWVyLCAhbmVlZCB0byBjaGVjayBpZiB1c2VyIG5lZWRzIHNwbGl0LlxuICAgICBjb25zdCBjYXJkID0gZGVjay5zcGxpY2UoMCwxKVswXTtcbiAgICAgc3BsaXQgPyBwbGF5ZXJTcGxpdEhhbmQucHVzaChjYXJkKSA6IHBsYXllckhhbmQucHVzaChjYXJkKTtcbiAgICAgLy8gQ3JlYXRpbmcgYSBjYXJkXG4gICAgIGNvbnN0IGNhcmRNYXJrdXAgPSBgXG4gICAgICA8ZGl2IGlkPVwiY2FyZFwiPlxuICAgICAgICA8ZmlndXJlIGNsYXNzPVwiY2FyZC1mcm9udFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7Y2FyZC5pbWd9KVwiPlxuICAgICAgICA8L2ZpZ3VyZT5cbiAgICAgICAgPGZpZ3VyZSBjbGFzcz1cImNhcmQtYmFja1wiPjwvZmlndXJlPlxuICAgICAgPC9kaXY+XG4gICAgIGA7XG5cbiAgICAgc3BsaXQgPyAkKCcjc3BsaXRab25lJykuYXBwZW5kKGNhcmRNYXJrdXApIDogJCgnI2NhcmRIb2xkZXInKS5hcHBlbmQoY2FyZE1hcmt1cCk7XG59O1xuXG5mdW5jdGlvbiBkZWFsc1RvRGVhbGVyKG9wZW4gPSB0cnVlKSB7XG7CoMKgLy8gRGVhbHMgdG9wIGNhcmQgdG8gZGVhbGVyIGZhY2UtZG93blxuwqDCoGNvbnN0IGNhcmQgPSBkZWNrLnNwbGljZSgwLCAxKVswXTtcbiAgZGVhbGVySGFuZC5wdXNoKGNhcmQpO1xuwqDCoC8vIENyZWF0aW5nIGEgY2FyZFxuwqDCoGNvbnN0IGNhcmRNYXJrdXAgPSBgXG7CoMKgwqDCoMKgwqA8ZGl2IGlkPVwiY2FyZFwiIGNsYXNzPVwiY2FyZC1kZWFsZXJcIj5cbsKgwqDCoMKgwqDCoMKgwqA8ZmlndXJlIGNsYXNzPVwiY2FyZC1mcm9udC1kZWFsZXIgJHtvcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCd9XCI+XG7CoMKgwqDCoMKgwqDCoMKgPC9maWd1cmU+XG7CoMKgwqDCoMKgwqDCoMKgPGZpZ3VyZSBjbGFzcz1cImNhcmQtYmFjay1kZWFsZXIgJHtvcGVuID8gJ2Nsb3NlZCcgOiAnb3Blbid9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtjYXJkLmltZ30pXCI+PC9maWd1cmU+XG7CoMKgwqDCoMKgwqA8L2Rpdj5cbsKgwqDCoMKgwqBgO1xuwqDCoCQoJyNkZWFsZXJDYXJkWm9uZScpLmFwcGVuZChjYXJkTWFya3VwKTtcblxufVxuXG5cbi8vIFNob3VsZCBvbmx5IHRhcmdldCB0aGUgZmlyc3QgY2FyZC5cbmZ1bmN0aW9uIGZsaXBDYXJkKCkge8KgwqDCoMKgXG7CoMKgJCgnI2NhcmQnKS5hZGRDbGFzcygnZmxpcHBlZCcpO1xufTtcblxuLy8gaWYgdXNlciB3YW50cyB0byBzcGxpdFxuLy8gdGFrZSBhcnJheSBpZiB3YW50IHRvIGNoYW5nZSBydWxlLlxuLy8gaWYgc3BsaXQgdHJ1ZSwgY2FuIG9ubHkgYnkgYXBwbGllZCBvbmNlLlxuZnVuY3Rpb24gdmFsaWRhdGVTcGxpdChhcnJheSwgbWF4U3BsaXQpIHtcbiAgICBpZihhcnJheVswXS52YWx1ZSA9PT0gYXJyYXlbMV0udmFsdWUgJiYgbWF4U3BsaXQgPT09IGZhbHNlICYmIHBsYXllckJhbGFuY2UgPj0gbWF4QmV0KSB7XG4gICAgICAgICB2YWxpZFNwbGl0LnN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICBwbGFjZUJldChtYXhCZXQpO1xuICAgICAgICAgICBnZXRCZXRDaGlwKG1heEJldCwgdHJ1ZSk7XG4gICAgICAgICAgIHBsYXllclNwbGl0SGFuZCA9IHBsYXllckhhbmQuc2xpY2UoMCwgMSk7XG4gICAgICAgICAgICBwbGF5ZXJIYW5kLnNwbGljZSgwLDEpO1xuICAgICAgICAgICAgJCgnI2NhcmRIb2xkZXInKS5jaGlsZHJlbignOmZpcnN0LWNoaWxkJykuYXBwZW5kVG8oJyNzcGxpdFpvbmUnKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodXBkYXRlRm9yT25lQ2FyZCwgMzAwKTtcbiAgICB9IGVsc2UgZmFsc2U7XG4gICBcbiB9XG5cbi8vIEV2ZW50IGxpc3RuZXIgZm9yIGJ1dHRvbi5cbiQoJy5zcGxpdC1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVTcGxpdChwbGF5ZXJIYW5kLCB2YWxpZFNwbGl0LnN0YXRlKTtcbiAgICBcbn0pO1xuXG5cblxuJCgnLmhpdC1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBpZih2YWxpZFNwbGl0LnN0YXRlID09PSBmYWxzZSkge1xuICAgICAgICAkKCcuc3BsaXQtYnV0dG9uJykuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIikuYWRkQ2xhc3MoJ2J1dHRvbi1kaXNhYmxlZCcpXG4gICAgICAgIGRlYWxzVG9QbGF5ZXIob3BlbiA9IGZhbHNlKTtcbiAgICAgICAgZGlzcGxheVBsYXllckhhbmQoKTtcbiAgICB9IGVsc2UgcmV0dXJuIGlmU3BsaXRUcnVlKCk7XG59KTtcblxuZnVuY3Rpb24gaWZTcGxpdFRydWUoKSB7XG4gICAgdmFsaWRTcGxpdC5zdGF0ZSA9PT0gdHJ1ZSA/IGRlYWxzVG9QbGF5ZXIob3BlbiA9IHRydWUpICsgZGVhbHNUb1BsYXllcihvcGVuID0gZmFsc2UpOiBmYWxzZTtcbiAgICAgc2V0VGltZW91dChkaXNwbGF5UGxheWVySGFuZCgpLGRpc3BsYXlQbGF5ZXJTcGxpdCgpLCAxMDAwKTsgXG59XG4iLCJcblxuZnVuY3Rpb24gYW5pbWF0aW9uRGlzcGxheVJlc3VsdCh0aW1lKSB7XG4gICAgJCgnLmRpc3BsYXktcmVzdWx0JykuYWRkQ2xhc3MoJ3Nob3ctZGlzcGxheS1yZXN1bHQnKTtcbiAgICBzZXRUaW1lb3V0KCAoKT0+IHtcbiAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykucmVtb3ZlQ2xhc3MoJ3Nob3ctZGlzcGxheS1yZXN1bHQnKTtcbiAgICB9LCB0aW1lKTtcbn1cblxuXG4iLCJcbmZ1bmN0aW9uIGNsZWFuVGFibGUoKSB7XG4gICAgICAgIHZhbGlkU3BsaXQucmVzZXQoKTtcbiAgICAgICAgcmVtb3ZlQ2hpcHMoKTtcbiAgICAgICAgcmV0dXJuQ2FyZHMocGxheWVySGFuZCk7XG4gICAgICAgIHJldHVybkNhcmRzKGRlYWxlckhhbmQpO1xuICAgICAgICByZXR1cm5DYXJkcyhwbGF5ZXJTcGxpdEhhbmQpO1xuICAgICAgICBjbGVhckhhbmRzKCk7XG4gICAgICAgIHJlbW92ZUNhcmRzKCk7XG4gICAgICAgIGNsZWFyU3RhdHMoKTtcbiAgICAgICAgcmVzZXRTcGxpdEJ1dHRvbigpO1xuICAgIH1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpcHMoKSB7XG4gICAgJCgnI3NwbGl0QmV0Wm9uZScpLmVtcHR5KCk7XG4gICAgJCgnI3BsYXllckJldFpvbmUnKS5lbXB0eSgpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVDYXJkcygpIHtcbiAgICAkKCcjc3BsaXRab25lJykuZW1wdHkoKTtcbiAgICAkKCcjY2FyZEhvbGRlcicpLmVtcHR5KCk7XG4gICAgJCgnI2RlYWxlckNhcmRab25lJykuZW1wdHkoKTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuQ2FyZHMoYXJyYXkpIHtcbiAgIGFycmF5LmZvckVhY2goIChlLGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIGRlY2sucHVzaChlKTtcbiAgIH0pO1xufSBcblxuZnVuY3Rpb24gY2xlYXJIYW5kcygpIHtcbiAgICBwbGF5ZXJIYW5kID0gW107XG4gICAgZGVhbGVySGFuZCA9IFtdO1xuICAgIHBsYXllclNwbGl0SGFuZCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjbGVhclN0YXRzKCkge1xuICAgICQoJyNkZWFsZXItc3RhdHMnKS50ZXh0KCdEZWFsZXIgSGFuZDogJyk7XG4gICAgJCgnI3BsYXllci1zdGF0cycpLnRleHQoJ1BsYXllciBIYW5kOiAnKTtcbiAgICAkKCcjc3BsaXQtc3RhdHMnKS50ZXh0KCdQbGF5ZXIgU3BsaXQ6ICcpO1xufVxuXG5mdW5jdGlvbiByZXNldFNwbGl0QnV0dG9uKCkge1xuICAgICAkKCcuc3BsaXQtYnV0dG9uJykucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpLnJlbW92ZUNsYXNzKCdidXR0b24tZGlzYWJsZWQnKTtcbn0iLCIvLyBmdW5jdGlvbiB0aGF0IGluaXRpYXRlIGFmdGVyIHVzZXIgY2xpY2tzIHN0YXJ0LlxuLy8gUmVhZHkgdG8gcGxheS5cbi8vIEFuZCBnb3Qgc29tZSBydWxlcyBhdmxpYWJsZSB0byBoaW0gb3IgaGVyLlxuJCgnLnN0YXJ0LWJ1dHRvbicpLm9uKCdjbGljaycsIHN0YXJ0VHVybik7XG5cbiBmdW5jdGlvbiBzdGFydFR1cm4oKSB7XG4gICAgJCgnLnN0YXJ0LXdpbmRvdycpLnJlbW92ZSgpO1xuICAgIFxuICAgIGRpc3BsYXlUdXJuKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBwbGFjZUJldChtYXhCZXQpO1xuICAgICAgICBnZXRCZXRDaGlwKG1heEJldCwgZmFsc2UpO1xuICAgICAgICAkKCcuYWRkU3ViLXRvb2x0aXAnKS5hZGRDbGFzcygnc2hvdy10b29sdGlwJyk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9QbGF5ZXIsIDEyMDApO1xuICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9EZWFsZXIoZmFsc2UpLCAxNDAwKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoJy5hZGRTdWItdG9vbHRpcCcpLnJlbW92ZUNsYXNzKCdzaG93LXRvb2x0aXAnKTtcbiAgICAgICAgfSwgNzAwKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9QbGF5ZXIsIDE2MDApO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZGVhbHNUb0RlYWxlciwgMTgwMCk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGRpc3BsYXlEZWFsZXJIYW5kKClcbiAgICAgICAgICAgIGRpc3BsYXlQbGF5ZXJIYW5kKCk7XG4gICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykudGV4dCgnRGVhbGVyIGlzIGNoZWNraW5nIHlvdXIgaGFuZCBmb3IgYmxhY2tqYWNrLi4uJyk7XG4gICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDE4MDApO1xuICAgICAgICB9LCAyMjAwKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoZXZhbHVhdGVCZXN0SGFuZCwgNTAwMCk7XG5cbiAgICAgfSwgNTAwKTtcbiAgICB9O1xuICBcbiAgXG5cblxuXG5cblxuJCgnLnN0YXktYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgIGZsaXBDYXJkKCk7XG4gICAgIHJldHVybiBkZWFsZXJEcmF3KCk7XG59KTtcblxuXG4oZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbnMoKSB7XG4gICAgJCgnLmhpdC1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuc3BsaXQtYnV0dG9uJykuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgJCgnLmRvdWJsZS1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuc3RheS1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGVuYWJsZUJ1dHRvbnMoKSB7XG4gICAgJCgnLmhpdC1idXR0b24nKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgJCgnLnNwbGl0LWJ1dHRvbicpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuZG91YmxlLWJ1dHRvbicpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuc3RheS1idXR0b24nKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG59XG5cbiIsIlxuY29uc3QgZGVjayA9IGNhcmREYXRhO1xuXG5mdW5jdGlvbiBzaHVmZmxlKGFycmF5KSB7XG4gIHZhciBtID0gYXJyYXkubGVuZ3RoO1xuICB2YXIgaTtcbiAgdmFyIHQ7XG5cbiAgLy8gV2hpbGUgdGhlcmUgcmVtYWluIGVsZW1lbnRzIHRvIHNodWZmbGXigKZcbiAgd2hpbGUgKG0pIHtcblxuICAgIC8vIFBpY2sgYSByZW1haW5pbmcgZWxlbWVudOKAplxuICAgIGkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtLS0pO1xuICAgIC8vIEFuZCBzd2FwIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICB0ID0gYXJyYXlbbV07XG4gICAgYXJyYXlbbV0gPSBhcnJheVtpXTtcbiAgICBhcnJheVtpXSA9IHQ7XG4gIH1cblxuICByZXR1cm4gYXJyYXk7XG59XG5cbnNodWZmbGUoZGVjayk7XG5cblxuIiwiXG5cbmNvbnN0IGNhcmREYXRhID0gW1xue1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8xMF9vZl9jbHVicy5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8xMF9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8xMF9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMTBfb2Zfc3BhZGVzLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzJfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogMlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8yX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDJcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMl9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogMlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8yX29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiAyXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzNfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogM1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8zX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDNcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvM19vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogM1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8zX29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiAzXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzRfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogNFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy80X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDRcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNF9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogNFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy80X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA0XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzVfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogNVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy81X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDVcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNV9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogNVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy81X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA1XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzZfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogNlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy82X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDZcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNl9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogNlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy82X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA2XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzdfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogN1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy83X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDdcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvN19vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogN1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy83X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA3XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzhfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogOFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy84X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDhcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOF9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogOFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy84X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA4XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzlfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogOVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy85X29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDlcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOV9vZl9oZWFydHMuc3ZnJyxcbiAgICB2YWx1ZTogOVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy85X29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiA5XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2FjZV9vZl9jbHVicy5zdmcnLFxuICAgIHZhbHVlOiAxXG4gICAgXG59LCB7XG4gIGltZzogJ2ltYWdlcy9jYXJkcy9hY2Vfb2ZfZGlhbW9uZHMuc3ZnJyxcbiAgICB2YWx1ZTogMVxuICAgIFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9hY2Vfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDFcbiAgICBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiAxXG4gICAgXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2phY2tfb2ZfY2x1YnMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2phY2tfb2ZfZGlhbW9uZHMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2phY2tfb2ZfaGVhcnRzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9qYWNrX29mX3NwYWRlczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMva2luZ19vZl9jbHViczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMva2luZ19vZl9kaWFtb25kczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMva2luZ19vZl9oZWFydHMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2tpbmdfb2Zfc3BhZGVzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9xdWVlbl9vZl9jbHViczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvcXVlZW5fb2ZfZGlhbW9uZHMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL3F1ZWVuX29mX2hlYXJ0czIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvcXVlZW5fb2Zfc3BhZGVzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufV07XG5cbmNvbnN0IHRlc3RDYXJkRGF0YSA9IFtcbntcbiAgaW1nOiAnaW1hZ2VzL2NhcmRzL2FjZV9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAxXG4gICAgXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL3F1ZWVuX29mX3NwYWRlczIuc3ZnJyxcbiAgICB2YWx1ZTogMVxufSwge1xuICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDEwXG4gICAgXG59ICwge1xuICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDFcbiAgICBcbn0sICB7XG4gIGltZzogJ2ltYWdlcy9jYXJkcy9hY2Vfb2ZfZGlhbW9uZHMuc3ZnJyxcbiAgICB2YWx1ZTogMVxuICAgIFxufVxuXG5dO1xuXG5cbiBjb25zdCBwcmVsb2FkSW1hZ2UgPSB1cmwgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuwqDCoMKgwqBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbsKgwqDCoMKgaW1nLnNyYyA9IHVybDtcbsKgwqDCoMKgc2V0VGltZW91dCgoKSA9PiB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nLm9ubG9hZCA9IHJlc29sdmUoaW1nKTtcbsKgwqDCoMKgwqDCoMKgwqBpbWcub25lcnJvciA9IHJlamVjdDtcbsKgwqDCoMKgfSwgMTAwKVxufSk7XG5cblByb21pc2UuYWxsKGNhcmREYXRhLm1hcChjYXJkID0+IHByZWxvYWRJbWFnZShjYXJkLmltZykpKS50aGVuKHJlcyA9PiB7XG5cbsKgwqDCoMKgJCggXCIjZ2FtZVdpbmRvd1wiICkucmVtb3ZlKCk7XG5cbn0pO1xuXG5cblxuXG5cblxuXG4vLyBXb3JrIGluIHRoZSBjb25zb2xlIGZvciBub3cuIHRoZW4gYXBwZW5kIHJlc3VsdHMgaW4gZG9tLlxuXG4vLyAxLiBCdWlsZCBBcnJheSBvZiBjYXJkIE9iamVjdCwgd2l0aCBpbWFnZSBuYW1lcyBhbmQgdmFsdWVzLlxuXG4vLyAyLiBXZSB3YW50IHRvIHJldHVybiBhIG5ldyBBcnJheSwgc2h1ZmZsZWQgZGVjay5cbi8vIFdpY2ggY2FuIGVpdGhlciBiZSwgdGhhdCBpIHRha2Ugb3V0IGEgcmFuZG9tIGNhcmQsIG9yIEkgd2lsbFxuLy8gYXNzZW1ibGUgdGhlIG9yZGVyIG9mIHRoZSBkZWNrIHJhbmRvbWx5LiBcblxuLy8gMy4gRHJhdyBjYXJkIGZyb20gdG9wIG9mIHRoZSBkZWNrLlxuXG4vLyA0LiBEZWFsZXIgbG9naWNcbi8vIERlYWxlciBzaG91bGQgaGFuZCB1dCBjYXJkIHRvIHBsYXllciBvbmUgYXQgYSB0aW1lXG4vLyBTbyBmaXJzdCBvbmUgY2FyZCB0byBtZSB0aGVuIG9uZSBmYWNlIGRvd24gdG8gdGhlIERlYWxlclxuLy8gVGhlbiBhbm90aGVyIHRvIG1lIHRoZW4gYSBmYWNlLXVwIHRvIHRoZSBkZWFsZXIuXG4iLCJjb25zdCBjaGlwRGF0YSA9IHtcbsKgwqDCoMKgY2hpcF8xOiB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nOiAnaW1hZ2VzL2NoaXBzL2NoaXAtMS5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiAxLFxuICAgICAgICBjbGFzczogJ29uZSdcbsKgwqDCoMKgfSxcbsKgwqDCoMKgY2hpcF8yOiB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nOiAnaW1hZ2VzL2NoaXBzL2NoaXAtMi5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiAyLFxuICAgICAgICBjbGFzczogJ3R3bydcbsKgwqDCoMKgfSxcbsKgwqDCoMKgY2hpcF81OsKgwqB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nOiAnaW1hZ2VzL2NoaXBzL2NoaXAtNS5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiA1LFxuICAgICAgICBjbGFzczogJ2ZpdmUnXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfMTA6IHtcbsKgwqDCoMKgwqDCoMKgwqBpbWc6ICdpbWFnZXMvY2hpcHMvY2hpcC0xMC5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiAxMCxcbiAgICAgICAgY2xhc3M6ICd0ZW4nXG5cbsKgwqDCoMKgfSxcbsKgwqDCoMKgY2hpcF8yMDoge1xuwqDCoMKgwqDCoMKgwqDCoGltZzogJy4uL2ltYWdlcy9jaGlwcy9jaGlwLTIwLnN2ZycsXG7CoMKgwqDCoMKgwqDCoMKgdmFsdWU6IDIwLFxuwqDCoMKgwqDCoMKgwqDCoGNsYXNzOiAndHdlZW50eSdcbsKgwqDCoMKgfSxcbsKgwqDCoMKgY2hpcF81MDoge1xuwqDCoMKgwqDCoMKgwqDCoGltZzogJy4uL2ltYWdlcy9jaGlwcy9jaGlwLTUwLnN2ZycsXG7CoMKgwqDCoMKgwqDCoMKgdmFsdWU6IDUwLFxuICAgICAgICBjbGFzczogJ2ZpZnRoeSdcbsKgwqDCoMKgfSxcbsKgwqDCoMKgY2hpcF8xMDA6IHtcbsKgwqDCoMKgwqDCoMKgwqBpbWc6ICdpbWFnZXMvY2hpcHMvY2hpcC0xMDAuc3ZnJyxcbsKgwqDCoMKgwqDCoMKgwqB2YWx1ZTogMTAwLFxuICAgICAgICBjbGFzczogJ2h1bmRyZWQnXG5cbsKgwqDCoMKgfVxufTsiLCJjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWZyb250Jyk7XG5jb25zdCBjYXJkSG9sZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhcmRIb2xkZXInKTtcbmNvbnN0IHNwbGl0Wm9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzcGxpdFpvbmUnKTtcbmNvbnN0IGRlYWxlckNhcmRab25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlYWxlckNhcmRab25lJyk7XG5cblxuLy8gTGF5IG91dCB0aGUgY2FyZHMgd2l0aCBhIGFuZCBleHRyYSBtYXJnaW4gZnJvbSB0aGUgZmlyc3QuXG4vLyBUaGVuIHJldmVyc2UgdGhlIGFycmF5IHRvIGdldCBpdCB0byBkbyBzcGxheSByaWdodCB0byBsZWZ0LlxuLy8gZnVuY3Rpb24gcnVuKCkge1xuLy8gICB2YXIgIGNvdW50ID0gLTI7XG4vLyAgIGFycmF5LnJldmVyc2UoKTtcbi8vICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4vLyAgICAgY29uc29sZS5sb2coY291bnQtLSk7XG4vLyAgICAgYXJyYXlbaV0uc3R5bGUubWFyZ2luTGVmdCA9IFwiXCIgKyBjb3VudCArICdlbScgKyBcIlwiO1xuLy8gIH0gXG4vLyAgcmV0dXJuIGFycmF5LnJldmVyc2UoKSxcbi8vICBjYXJkSG9sZGVyLnN0eWxlLm1hcmdpbkxlZnQgPSBcIlwiICsgIGFycmF5Lmxlbmd0aCArICdlbScgKyBcIlwiLFxuLy8gIHNwbGl0Wm9uZS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCJcIiArIC0oYXJyYXkubGVuZ3RoKSArICdlbScgKyBcIlwiLFxuLy8gIGRlYWxlckNhcmRab25lLnN0eWxlLm1hcmdpbkxlZnQgPSBcIlwiICsgKGFycmF5Lmxlbmd0aCkgKyAnZW0nICsgXCJcIjtcbi8vIH1cblxuXG4vLyBKcXVlcnkgd2F5IG9mIHVwZGF0aW5nIHRoZW1cblxuXG5cbi8vICQoJyNkZWFsZXJDYXJkWm9uZScpLm9uKCdjbGljaycsJyNjYXJkJywgZnVuY3Rpb24oZSkge1xuLy8gICAgIGUucHJldmVudERlZmF1bHQoKTtcblx0XG4vLyBcdCQoIHRoaXMgKS50b2dnbGVDbGFzcygnZmxpcHBlZCcpO1xuLy8gfSk7XG5cblxuXG5cblxuXG5cbiAgXG4iLCJcbiQoIGZ1bmN0aW9uKCkge1xuICAgICQoIFwiI2RyYWdnYWJsZVwiICkuZHJhZ2dhYmxlKCk7XG4gIH0gKTsiXX0=
