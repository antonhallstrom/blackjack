"use strict";function renderBalance(a){$("#balance").text(a+".00")}function changeTurn(){maxBet=turn++<4?20:50}function renderChip(a,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t='\n        <div \n            class="'+e+'"\n            style="background-image: url('+a+'">\n        </div>\n  ';s?$("#splitBetZone").append(t):$("#playerBetZone").append(t)}function validateBet(a){return playerBet=a<=playerBalance&&a<=maxBet?a:0}function placeBet(a){renderBalance(playerBalance-=validateBet(a)),getOrplaceBetAnimation(a)}function getBetChip(a,e){var s=chipData["chip_"+a];return e?playerSplitBets.push(s.value):playerBets.push(s.value),renderChip(s.img,s.class,e||"")}function getOrplaceBetAnimation(a){return $(".addSub-text").text(a+".00")}function getSum(a,e){return a+e}function timesTwo(a){return 2*a}function reduceBets(){return playerBets.reduce(getSum,0)}function findBestHand(a,e){return Math.max(a,e)}function checkBestHand(a,e){return findBestHand(compareHand(a),compareHand(e))}function displayDealerHand(){dealerHand.map(function(a){0!==dealerHand.indexOf(a)&&$("#dealer-stats").append(" "+a.value)})}function displayTurn(){$("#turn").text("Round: "+turn)}function revealAllDealerHand(){$("#dealer-stats").text("Dealer Hand: "+cardStatus(dealerHand))}function displayPlayerHand(){$("#player-stats").text("Player Hand: "+cardStatus(playerHand))}function displayMaxBet(){$("#maxBet-stats").text("Max Bet: $ "+maxBet)}function displayPlayerSplit(){$("#split-stats").text("Player Split: "+cardStatus(playerSplitHand))}function updateForOneCard(){$("#split-stats").text("Player Split: "+playerSplitHand[0].value),$("#player-stats").text("Player Hand: "+playerHand[0].value)}function cardStatus(a){var e=a[0].value,s=a[1].value,t=a.reduce(function(a,e){return a+e.value},0),l=t+(a.some(function(a){return 1===a.value})?10:0);return 10===e&&1===s||1===e&&10===s?"blackjack":21===l||21===t?l:l<21||t<21?l:l>21||t>21?l:void 0}function dealerDraw(){var a=cardStatus(dealerHand);setTimeout(function(){return revealAllDealerHand(),"blackjack"===a?compareHands():21===a?compareHands():a>17&&a<21?compareHands():a>21?compareHands():void(a<=17&&setTimeout(dealsToDealer(open=!0),revealAllDealerHand(),dealerDraw(),1200))},1e3)}function compareHands(){var a=cardStatus(playerHand),e=cardStatus(dealerHand);"blackjack"===e&&($(".display-result").text("Dealer "+cardStatus(dealerHand)+"! Dealer Wins!"),animationDisplayResult(2500),renderBalance(playerBalance=playerBalance),setTimeout(setup,2500)),e>21&&($(".display-result").text("Dealer Bust! You win!"),animationDisplayResult(2500),renderBalance(playerBalance+=timesTwo(reduceBets())),setTimeout(setup,2500)),a!==e&&e!==a||($(".display-result").text(cardStatus(playerHand)+"! Tie!"),animationDisplayResult(2500),renderBalance(playerBalance+=reduceBets()),setTimeout(setup,2500)),a<e&&e>=17&&e<=21&&($(".display-result").text(cardStatus(playerHand)+"! Dealer Wins!"),animationDisplayResult(2500),renderBalance(playerBalance=playerBalance),setTimeout(setup,2500)),a>=17&&a<=21&&e>=17&&e<=21&&(e>a?($(".display-result").text(cardStatus(playerHand)+"! Dealer Wins!"),animationDisplayResult(2500),renderBalance(playerBalance=playerBalance),setTimeout(setup,2500)):($(".display-result").text(cardStatus(playerHand)+"! You win! This"),animationDisplayResult(2500),renderBalance(playerBalance+=timesTwo(reduceBets())),setTimeout(setup,2500)))}function evaluateBestHand(){setTimeout(function(){"blackjack"===cardStatus(playerHand)?(flipCard(),dealerDraw(),"blackjack"===cardStatus(dealerHand)?($(".display-result").text(cardStatus(playerHand)+"! Tie!"),animationDisplayResult(2500),renderBalance(playerBalance+=reduceBets()),setTimeout(setup,2500)):($(".display-result").text(cardStatus(playerHand)+"! You win! or"),animationDisplayResult(2500),renderBalance(playerBalance+=timesTwo(reduceBets())),setTimeout(setup,2500))):($(".display-result").text("Sorry, no blackjack! Keep going?"),animationDisplayResult(2500),enableButtons())},500)}function evaluateOnHit(){cardStatus(playerHand)>21?(disableButtons(),displayPlayerHand(),$(".display-result").text(cardStatus(playerHand)+"! You Bust!"),animationDisplayResult(2500),renderBalance(playerBalance=playerBalance),setTimeout(setup,2500)):console.log("puke")}function setup(){setTimeout(cleanTable,2e3),setTimeout(startTurn,3e3)}function dealsToPlayer(a){var e=deck.splice(0,1)[0];a?playerSplitHand.push(e):playerHand.push(e);var s='\n      <div id="card">\n        <figure class="card-front" style="background-image: url('+e.img+')">\n        </figure>\n        <figure class="card-back"></figure>\n      </div>\n     ';a?$("#splitZone").append(s):$("#cardHolder").append(s)}function dealsToDealer(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=deck.splice(0,1)[0];dealerHand.push(e);var s='\n      <div id="card" class="card-dealer">\n        <figure class="card-front-dealer '+(a?"open":"closed")+'">\n        </figure>\n        <figure class="card-back-dealer '+(a?"closed":"open")+'" style="background-image: url('+e.img+')"></figure>\n      </div>\n     ';$("#dealerCardZone").append(s)}function flipCard(){$("#card").addClass("flipped")}function validateSplit(a,e){a[0].value===a[1].value&&e===!1&&playerBalance>=maxBet&&(validSplit.state=!0,placeBet(maxBet),getBetChip(maxBet,!0),playerSplitHand=playerHand.slice(0,1),playerHand.splice(0,1),$("#cardHolder").children(":first-child").appendTo("#splitZone"),setTimeout(updateForOneCard,300))}function ifSplitTrue(){validSplit.state===!0&&dealsToPlayer(open=!0)+dealsToPlayer(open=!1),setTimeout(displayPlayerHand(),displayPlayerSplit(),1e3)}function animationDisplayResult(a){$(".display-result").addClass("show-display-result"),setTimeout(function(){$(".display-result").removeClass("show-display-result")},a)}function cleanTable(){validSplit.reset(),removeChips(),returnCards(playerHand),returnCards(dealerHand),returnCards(playerSplitHand),clearHands(),removeCards(),clearStats(),resetSplitButton()}function removeChips(){$("#splitBetZone").empty(),$("#playerBetZone").empty()}function removeCards(){$("#splitZone").empty(),$("#cardHolder").empty(),$("#dealerCardZone").empty()}function returnCards(a){a.forEach(function(a,e){return deck.push(a)})}function clearHands(){playerHand=[],dealerHand=[],playerSplitHand=[],playerBets=[]}function clearStats(){$("#dealer-stats").text("Dealer Hand: "),$("#player-stats").text("Player Hand: "),$("#split-stats").text("Player Split: ")}function resetSplitButton(){$(".split-button").removeAttr("disabled").removeClass("button-disabled")}function startTurn(){0===validateBet(maxBet)?($(".display-result").text("Sorry, you dont have enough chips! Max Bet is "+maxBet),animationDisplayResult(3500),disableButtons(),setTimeout(function(){$(".display-result").text("Thanks Come Again!"),animationDisplayResult(3500)},3800)):($(".start-window").remove(),disableButtons(),displayTurn(),playerBets=[],changeTurn(),setTimeout(function(){displayMaxBet(),placeBet(maxBet),getBetChip(maxBet,!1),$(".addSub-tooltip").addClass("show-tooltip"),setTimeout(dealsToPlayer,1200),setTimeout(dealsToDealer(!1),1400),setTimeout(function(){$(".addSub-tooltip").removeClass("show-tooltip")},700),setTimeout(dealsToPlayer,1600),setTimeout(dealsToDealer,1800),setTimeout(function(){displayDealerHand(),displayPlayerHand()},2e3),setTimeout(function(){$(".display-result").text("Dealer is checking your hand for blackjack..."),animationDisplayResult(1800)},2200),setTimeout(evaluateBestHand,5e3)},1500))}function disableButtons(){$(".hit-button").attr("disabled","disabled"),$(".split-button").attr("disabled","disabled"),$(".double-button").attr("disabled","disabled"),$(".stay-button").attr("disabled","disabled")}function enableButtons(){$(".hit-button").removeAttr("disabled"),$(".split-button").removeAttr("disabled"),$(".double-button").removeAttr("disabled"),$(".stay-button").removeAttr("disabled")}function shuffle(a){for(var e,s,t=a.length;t;)e=Math.floor(Math.random()*t--),s=a[t],a[t]=a[e],a[e]=s;return a}var playerBalance=100,playerBet=0,turn=1,maxBet=20,playerBets=[],playerSplitBets=[];renderBalance(playerBalance);var cardData=[{img:"images/cards/10_of_clubs.svg",value:10},{img:"images/cards/10_of_diamonds.svg",value:10},{img:"images/cards/10_of_hearts.svg",value:10},{img:"images/cards/10_of_spades.svg",value:10},{img:"images/cards/2_of_clubs.svg",value:2},{img:"images/cards/2_of_diamonds.svg",value:2},{img:"images/cards/2_of_hearts.svg",value:2},{img:"images/cards/2_of_spades.svg",value:2},{img:"images/cards/3_of_clubs.svg",value:3},{img:"images/cards/3_of_diamonds.svg",value:3},{img:"images/cards/3_of_hearts.svg",value:3},{img:"images/cards/3_of_spades.svg",value:3},{img:"images/cards/4_of_clubs.svg",value:4},{img:"images/cards/4_of_diamonds.svg",value:4},{img:"images/cards/4_of_hearts.svg",value:4},{img:"images/cards/4_of_spades.svg",value:4},{img:"images/cards/5_of_clubs.svg",value:5},{img:"images/cards/5_of_diamonds.svg",value:5},{img:"images/cards/5_of_hearts.svg",value:5},{img:"images/cards/5_of_spades.svg",value:5},{img:"images/cards/6_of_clubs.svg",value:6},{img:"images/cards/6_of_diamonds.svg",value:6},{img:"images/cards/6_of_hearts.svg",value:6},{img:"images/cards/6_of_spades.svg",value:6},{img:"images/cards/7_of_clubs.svg",value:7},{img:"images/cards/7_of_diamonds.svg",value:7},{img:"images/cards/7_of_hearts.svg",value:7},{img:"images/cards/7_of_spades.svg",value:7},{img:"images/cards/8_of_clubs.svg",value:8},{img:"images/cards/8_of_diamonds.svg",value:8},{img:"images/cards/8_of_hearts.svg",value:8},{img:"images/cards/8_of_spades.svg",value:8},{img:"images/cards/9_of_clubs.svg",value:9},{img:"images/cards/9_of_diamonds.svg",value:9},{img:"images/cards/9_of_hearts.svg",value:9},{img:"images/cards/9_of_spades.svg",value:9},{img:"images/cards/ace_of_clubs.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/ace_of_hearts.svg",value:1},{img:"images/cards/ace_of_spades.svg",value:1},{img:"images/cards/jack_of_clubs2.svg",value:10},{img:"images/cards/jack_of_diamonds2.svg",value:10},{img:"images/cards/jack_of_hearts2.svg",value:10},{img:"images/cards/jack_of_spades2.svg",value:10},{img:"images/cards/king_of_clubs2.svg",value:10},{img:"images/cards/king_of_diamonds2.svg",value:10},{img:"images/cards/king_of_hearts2.svg",value:10},{img:"images/cards/king_of_spades2.svg",value:10},{img:"images/cards/queen_of_clubs2.svg",value:10},{img:"images/cards/queen_of_diamonds2.svg",value:10},{img:"images/cards/queen_of_hearts2.svg",value:10},{img:"images/cards/queen_of_spades2.svg",value:10}],testCardData=[{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/queen_of_spades2.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:10},{img:"images/cards/ace_of_diamonds.svg",value:1},{img:"images/cards/ace_of_diamonds.svg",value:1}],preloadImage=function(a){return new Promise(function(e,s){var t=new Image;t.src=a,setTimeout(function(){t.onload=e(t),t.onerror=s},100)})};Promise.all(cardData.map(function(a){return preloadImage(a.img)})).then(function(a){$("#gameWindow").remove()});var chipData={chip_1:{img:"images/chips/chip-1.svg",value:1,class:"one"},chip_2:{img:"images/chips/chip-2.svg",value:2,class:"two"},chip_5:{img:"images/chips/chip-5.svg",value:5,class:"five"},chip_10:{img:"images/chips/chip-10.svg",value:10,class:"ten"},chip_20:{img:"../images/chips/chip-20.svg",value:20,class:"tweenty"},chip_50:{img:"../images/chips/chip-50.svg",value:50,class:"fifthy"},chip_100:{img:"images/chips/chip-100.svg",value:100,class:"hundred"}},playerHand=[],playerSplitHand=[],dealerHand=[],validSplit={state:!1,reset:function(){this.set=!1}};$(".split-button").on("click",function(){validateSplit(playerHand,validSplit.state)}),$(".hit-button").on("click",function(){return validSplit.state!==!1?ifSplitTrue():($(".split-button").attr("disabled","disabled").addClass("button-disabled"),dealsToPlayer(open=!1),displayPlayerHand(),evaluateOnHit(),void 0)}),$(".start-button").on("click",startTurn),$(".stay-button").on("click",function(){return flipCard(),dealerDraw()}),disableButtons();var cards=document.querySelectorAll(".card-front"),cardHolder=document.querySelector("#cardHolder"),splitZone=document.querySelector("#splitZone"),dealerCardZone=document.querySelector("#dealerCardZone"),deck=cardData;shuffle(deck),$(function(){$("#draggable").draggable()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbGFuY2UuanMiLCJjYWxjSGFuZC5qcyIsImRlYWxlci5qcyIsImRpc3BsYXkuanMiLCJyZXNldC5qcyIsInJ1bkdhbWUuanMiLCJzaHVmZmxlLmpzIiwiY2FyZERhdGEuanMiLCJjaGlwRGF0YS5qcyIsInNjcm9sbC5qcyIsInRvb2x0aXAuanMiXSwibmFtZXMiOlsicmVuZGVyQmFsYW5jZSIsInBsYXllckJhbGFuY2UiLCIkIiwidGV4dCIsImNoYW5nZVR1cm4iLCJtYXhCZXQiLCJ0dXJuIiwicmVuZGVyQ2hpcCIsImNoaXBJbWciLCJjaGlwQ2xhc3MiLCJzcGxpdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImNoaXBFbGVtZW50IiwiYXBwZW5kIiwidmFsaWRhdGVCZXQiLCJiZXQiLCJwbGF5ZXJCZXQiLCJwbGFjZUJldCIsImdldE9ycGxhY2VCZXRBbmltYXRpb24iLCJnZXRCZXRDaGlwIiwiY2hpcCIsImNoaXBEYXRhIiwicGxheWVyU3BsaXRCZXRzIiwicHVzaCIsInZhbHVlIiwicGxheWVyQmV0cyIsImltZyIsImNsYXNzIiwiZ2V0U3VtIiwidG90YWwiLCJudW0iLCJ0aW1lc1R3byIsImEiLCJyZWR1Y2VCZXRzIiwicmVkdWNlIiwiZmluZEJlc3RIYW5kIiwiaGFuZEEiLCJoYW5kQiIsIk1hdGgiLCJtYXgiLCJjaGVja0Jlc3RIYW5kIiwiY29tcGFyZUhhbmQiLCJkaXNwbGF5RGVhbGVySGFuZCIsImRlYWxlckhhbmQiLCJtYXAiLCJlIiwiaW5kZXhPZiIsImRpc3BsYXlUdXJuIiwicmV2ZWFsQWxsRGVhbGVySGFuZCIsImNhcmRTdGF0dXMiLCJkaXNwbGF5UGxheWVySGFuZCIsInBsYXllckhhbmQiLCJkaXNwbGF5TWF4QmV0IiwiZGlzcGxheVBsYXllclNwbGl0IiwicGxheWVyU3BsaXRIYW5kIiwidXBkYXRlRm9yT25lQ2FyZCIsInBsYXllckNhcmRzIiwiZmlyc3RDYXJkVmFsdWUiLCJzZWNvbmRDYXJkVmFsdWUiLCJ0b3RhbFZhbHVlIiwibGFzdCIsImN1cnJlbnQiLCJ0b3RhbFZhbHVlV2l0aEFjZSIsInNvbWUiLCJjYXJkIiwiZGVhbGVyRHJhdyIsInNldFRpbWVvdXQiLCJjb21wYXJlSGFuZHMiLCJkZWFsc1RvRGVhbGVyIiwib3BlbiIsInBsYXllclZhbHVlIiwiZGVhbGVyVmFsdWUiLCJhbmltYXRpb25EaXNwbGF5UmVzdWx0Iiwic2V0dXAiLCJldmFsdWF0ZUJlc3RIYW5kIiwiZmxpcENhcmQiLCJlbmFibGVCdXR0b25zIiwiZXZhbHVhdGVPbkhpdCIsImRpc2FibGVCdXR0b25zIiwiY29uc29sZSIsImxvZyIsImNsZWFuVGFibGUiLCJzdGFydFR1cm4iLCJkZWFsc1RvUGxheWVyIiwiZGVjayIsInNwbGljZSIsImNhcmRNYXJrdXAiLCJhZGRDbGFzcyIsInZhbGlkYXRlU3BsaXQiLCJhcnJheSIsIm1heFNwbGl0IiwidmFsaWRTcGxpdCIsInN0YXRlIiwic2xpY2UiLCJjaGlsZHJlbiIsImFwcGVuZFRvIiwiaWZTcGxpdFRydWUiLCJ0aW1lIiwicmVtb3ZlQ2xhc3MiLCJyZXNldCIsInJlbW92ZUNoaXBzIiwicmV0dXJuQ2FyZHMiLCJjbGVhckhhbmRzIiwicmVtb3ZlQ2FyZHMiLCJjbGVhclN0YXRzIiwicmVzZXRTcGxpdEJ1dHRvbiIsImVtcHR5IiwiZm9yRWFjaCIsImluZGV4IiwicmVtb3ZlQXR0ciIsInJlbW92ZSIsImF0dHIiLCJzaHVmZmxlIiwiaSIsInQiLCJtIiwiZmxvb3IiLCJyYW5kb20iLCJjYXJkRGF0YSIsInRlc3RDYXJkRGF0YSIsInByZWxvYWRJbWFnZSIsInVybCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJvbmVycm9yIiwiYWxsIiwidGhlbiIsInJlcyIsImNoaXBfMSIsImNoaXBfMiIsImNoaXBfNSIsImNoaXBfMTAiLCJjaGlwXzIwIiwiY2hpcF81MCIsImNoaXBfMTAwIiwidGhpcyIsInNldCIsIm9uIiwiY2FyZHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjYXJkSG9sZGVyIiwicXVlcnlTZWxlY3RvciIsInNwbGl0Wm9uZSIsImRlYWxlckNhcmRab25lIiwiZHJhZ2dhYmxlIl0sIm1hcHBpbmdzIjoiWUFRQSxTQUFTQSxlQUFjQyxHQUNuQkMsRUFBRSxZQUFZQyxLQUFLRixFQUFnQixPQU12QyxRQUFTRyxjQUNMQyxPQUFTQyxPQUFTLEVBQUksR0FBSyxHQUcvQixRQUFTQyxZQUFXQyxFQUFTQyxHQUEwQixHQUFmQyxHQUFlQyxVQUFBQyxPQUFBLEdBQUFDLFNBQUFGLFVBQUEsSUFBQUEsVUFBQSxHQUM3Q0csRUFBQUEsdUNBRVdMLEVBRlgsK0NBR2lDRCxFQUhqQyx3QkFNTkUsR0FBUVIsRUFBRSxpQkFBaUJhLE9BQU9ELEdBQWVaLEVBQUUsa0JBQWtCYSxPQUFPRCxHQU1oRixRQUFTRSxhQUFZQyxHQUNqQixNQUFPQyxXQUFhRCxHQUFPaEIsZUFBaUJnQixHQUFPWixPQUFVWSxFQUFNLEVBR3ZFLFFBQVNFLFVBQVNGLEdBQ2RqQixjQUFjQyxlQUFnQ2UsWUFBWUMsSUFDMURHLHVCQUF1QkgsR0FHM0IsUUFBU0ksWUFBV0osRUFBS1AsR0FDckIsR0FBTVksR0FBT0MsU0FBQUEsUUFBaUJOLEVBRTlCLE9BREFQLEdBQVFjLGdCQUFnQkMsS0FBS0gsRUFBS0ksT0FBU0MsV0FBV0YsS0FBS0gsRUFBS0ksT0FDekRuQixXQUFXZSxFQUFLTSxJQUFLTixFQUFLTyxNQUFPbkIsR0FBUyxJQUdyRCxRQUFTVSx3QkFBdUJILEdBQzVCLE1BQU9mLEdBQUUsZ0JBQWdCQyxLQUFLYyxFQUFNLE9BR3hDLFFBQVNhLFFBQU9DLEVBQU9DLEdBQ25CLE1BQU9ELEdBQVFDLEVBR25CLFFBQVNDLFVBQVNDLEdBQ2pCLE1BQVcsR0FBSkEsRUFHUixRQUFTQyxjQUNOLE1BQU9SLFlBQVdTLE9BQU9OLE9BQU8sR0N4RG5DLFFBQVNPLGNBQWFDLEVBQU9DLEdBQ3pCLE1BQU9DLE1BQUtDLElBQUlILEVBQU9DLEdBRzNCLFFBQVNHLGVB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QUFjLGVBQ3BDQyxVQUFZSixTQUFTRyxjQUFjLGNBQ25DRSxlQUFpQkwsU0FBU0csY0FBYyxtQkhGeEM5RCxLQUFPa0MsUUFxQmJOLFNBQVE1QixNSXJCUnBGLEVBQUcsV0FDQ0EsRUFBRyxjQUFlcUoiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBwbGF5ZXJCYWxhbmNlID0gMTAwO1xubGV0IHBsYXllckJldCA9IDA7XG5sZXQgdHVybiA9IDE7XG5sZXQgbWF4QmV0ID0gMjA7XG5sZXQgcGxheWVyQmV0cyA9IFtdO1xubGV0IHBsYXllclNwbGl0QmV0cyA9IFtdO1xucmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlKTtcblxuZnVuY3Rpb24gcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlKSB7XG7CoMKgwqDCoCQoJyNiYWxhbmNlJykudGV4dChwbGF5ZXJCYWxhbmNlICsgJy4wMCcpO1xufVxuXG5cblxuXG5mdW5jdGlvbiBjaGFuZ2VUdXJuKCkge1xuwqDCoMKgwqBtYXhCZXQgPSB0dXJuKysgPCA0ID8gMjAgOiA1MDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQ2hpcChjaGlwSW1nLCBjaGlwQ2xhc3MsIHNwbGl0ID0gZmFsc2UpIHtcbsKgwqDCoMKgY29uc3QgY2hpcEVsZW1lbnQgPSBgXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgICBjbGFzcz1cIiR7Y2hpcENsYXNzfVwiXG7CoMKgwqDCoCAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtjaGlwSW1nfVwiPlxuICAgICAgICA8L2Rpdj5cbiAgYDtcbsKgICDCoHNwbGl0ID8gJCgnI3NwbGl0QmV0Wm9uZScpLmFwcGVuZChjaGlwRWxlbWVudCkgOiAkKCcjcGxheWVyQmV0Wm9uZScpLmFwcGVuZChjaGlwRWxlbWVudCk7XG5cbn1cblxuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlQmV0KGJldCkge1xuwqDCoMKgwqByZXR1cm4gcGxheWVyQmV0ID0gKGJldCA8PSBwbGF5ZXJCYWxhbmNlICYmIGJldCA8PSBtYXhCZXQpID8gYmV0IDogMDtcbn1cblxuZnVuY3Rpb24gcGxhY2VCZXQoYmV0KSB7XG7CoMKgwqDCoHJlbmRlckJhbGFuY2UocGxheWVyQmFsYW5jZSA9IHBsYXllckJhbGFuY2UgLSB2YWxpZGF0ZUJldChiZXQpKTtcbiAgICBnZXRPcnBsYWNlQmV0QW5pbWF0aW9uKGJldCk7XG59XG5cbmZ1bmN0aW9uIGdldEJldENoaXAoYmV0LCBzcGxpdCkge1xuwqDCoMKgwqBjb25zdCBjaGlwID0gY2hpcERhdGFbYGNoaXBfJHtiZXR9YF07XG4gICAgc3BsaXQgPyBwbGF5ZXJTcGxpdEJldHMucHVzaChjaGlwLnZhbHVlKSA6IHBsYXllckJldHMucHVzaChjaGlwLnZhbHVlKTtcbsKgwqDCoMKgcmV0dXJuIHJlbmRlckNoaXAoY2hpcC5pbWcsIGNoaXAuY2xhc3MsIHNwbGl0IHx8ICcnKTtcbn07XG5cbmZ1bmN0aW9uIGdldE9ycGxhY2VCZXRBbmltYXRpb24oYmV0KSB7XG4gICAgcmV0dXJuICQoJy5hZGRTdWItdGV4dCcpLnRleHQoYmV0ICsgJy4wMCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTdW0odG90YWwsIG51bSkge1xuICAgIHJldHVybiB0b3RhbCArIG51bTtcbn1cblxuZnVuY3Rpb24gdGltZXNUd28oYSkge1xuIHJldHVybiBhICogMjtcbn1cblxuZnVuY3Rpb24gcmVkdWNlQmV0cygpIHtcbiAgIHJldHVybiBwbGF5ZXJCZXRzLnJlZHVjZShnZXRTdW0sMCk7XG59XG5cblxuXG4iLCJcblxuXG5cbmZ1bmN0aW9uIGZpbmRCZXN0SGFuZChoYW5kQSwgaGFuZEIpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoaGFuZEEsIGhhbmRCKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tCZXN0SGFuZChoYW5kQSwgaGFuZEIpIHtcbiAgcmV0dXJuIGZpbmRCZXN0SGFuZChjb21wYXJlSGFuZChoYW5kQSksIGNvbXBhcmVIYW5kKGhhbmRCKSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlEZWFsZXJIYW5kKCkge1xuICAgIGRlYWxlckhhbmQubWFwKGZ1bmN0aW9uKGUpe1xuICAgICAgaWYgKGRlYWxlckhhbmQuaW5kZXhPZihlKSAhPT0gMCl7XG4gICAgICAgICQoJyNkZWFsZXItc3RhdHMnKS5hcHBlbmQoJyAnICsgZS52YWx1ZSk7XG4gICAgICB9IGVsc2UgZmFsc2U7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlUdXJuKCkge1xuICAgICQoJyN0dXJuJykudGV4dCgnUm91bmQ6ICcgKyB0dXJuKTtcbn1cblxuZnVuY3Rpb24gcmV2ZWFsQWxsRGVhbGVySGFuZCgpIHtcbiAgICAkKCcjZGVhbGVyLXN0YXRzJykudGV4dCgnRGVhbGVyIEhhbmQ6ICcgKyBjYXJkU3RhdHVzKGRlYWxlckhhbmQpKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVBsYXllckhhbmQoKSB7XG4gICAgJCgnI3BsYXllci1zdGF0cycpLnRleHQoJ1BsYXllciBIYW5kOiAnICsgY2FyZFN0YXR1cyhwbGF5ZXJIYW5kKSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlNYXhCZXQoKSB7XG4gICAgJCgnI21heEJldC1zdGF0cycpLnRleHQoJ01heCBCZXQ6ICQgJyArIG1heEJldCk7XG4gfVxuXG4gZnVuY3Rpb24gZGlzcGxheVBsYXllclNwbGl0KCkge1xuICAgICQoJyNzcGxpdC1zdGF0cycpLnRleHQoJ1BsYXllciBTcGxpdDogJyArIGNhcmRTdGF0dXMocGxheWVyU3BsaXRIYW5kKSk7XG4gfVxuXG5mdW5jdGlvbiB1cGRhdGVGb3JPbmVDYXJkKCkge1xuICAgICAgJCgnI3NwbGl0LXN0YXRzJykudGV4dCgnUGxheWVyIFNwbGl0OiAnICsgcGxheWVyU3BsaXRIYW5kWzBdLnZhbHVlKTtcbiAgICAgICQoJyNwbGF5ZXItc3RhdHMnKS50ZXh0KCdQbGF5ZXIgSGFuZDogJyArIHBsYXllckhhbmRbMF0udmFsdWUpO1xufVxuXG5mdW5jdGlvbiBjYXJkU3RhdHVzKHBsYXllckNhcmRzKSB7XG7CoMKgY29uc3QgZmlyc3RDYXJkVmFsdWUgPSBwbGF5ZXJDYXJkc1swXS52YWx1ZTtcbsKgwqBjb25zdCBzZWNvbmRDYXJkVmFsdWUgPSBwbGF5ZXJDYXJkc1sxXS52YWx1ZTtcbsKgwqBjb25zdCB0b3RhbFZhbHVlID0gcGxheWVyQ2FyZHMucmVkdWNlKChsYXN0LCBjdXJyZW50KSA9PiBsYXN0ICsgY3VycmVudC52YWx1ZSwgMCk7XG7CoMKgY29uc3QgdG90YWxWYWx1ZVdpdGhBY2UgPSB0b3RhbFZhbHVlICsgKHBsYXllckNhcmRzLnNvbWUoY2FyZCA9PiBjYXJkLnZhbHVlID09PSAxKSA/IDEwIDogMCk7XG7CoMKgaWYgKCBmaXJzdENhcmRWYWx1ZSA9PT0gMTAgJiYgc2Vjb25kQ2FyZFZhbHVlID09PSAxIHx8XG7CoMKgwqDCoGZpcnN0Q2FyZFZhbHVlID09PSAxICYmIHNlY29uZENhcmRWYWx1ZSA9PT0gMTApIHJldHVybiAnYmxhY2tqYWNrJztcbsKgwqBpZiAodG90YWxWYWx1ZVdpdGhBY2UgPT09IDIxIHx8IHRvdGFsVmFsdWUgPT09IDIxKSByZXR1cm4gJzIxJywgdG90YWxWYWx1ZVdpdGhBY2U7XG7CoMKgaWYgKHRvdGFsVmFsdWVXaXRoQWNlIDwgMjEgfHwgdG90YWxWYWx1ZSA8IDIxKSByZXR1cm4gJ2tlZXAgZ29pbmc/JywgdG90YWxWYWx1ZVdpdGhBY2U7XG7CoMKgaWYgKHRvdGFsVmFsdWVXaXRoQWNlID4gMjEgfHwgdG90YWxWYWx1ZSA+IDIxKSByZXR1cm4gJ0ZBVFRZIEZBVFRZJywgdG90YWxWYWx1ZVdpdGhBY2U7XG59XG5cbi8vIFJlY3Vyc2lvblxuZnVuY3Rpb24gZGVhbGVyRHJhdygpIHtcbiAgwqBjb25zdCB0b3RhbFZhbHVlID0gY2FyZFN0YXR1cyhkZWFsZXJIYW5kKTtcbiBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICByZXZlYWxBbGxEZWFsZXJIYW5kKCk7XG4gIGlmKHRvdGFsVmFsdWUgPT09ICdibGFja2phY2snKSByZXR1cm4gY29tcGFyZUhhbmRzKCk7XG7CoMKgaWYodG90YWxWYWx1ZSA9PT0gMjEpIHJldHVybiBjb21wYXJlSGFuZHMoKTtcbsKgwqBpZih0b3RhbFZhbHVlID4gMTcgJiYgdG90YWxWYWx1ZSA8IDIxKcKgwqByZXR1cm4gY29tcGFyZUhhbmRzKCk7XG7CoMKgaWYodG90YWxWYWx1ZSA+IDIxKSByZXR1cm4gY29tcGFyZUhhbmRzKCk7XG7CoMKgaWYodG90YWxWYWx1ZSA8PSAxNykge1xuICBzZXRUaW1lb3V0KGRlYWxzVG9EZWFsZXIob3BlbiA9IHRydWUpLHJldmVhbEFsbERlYWxlckhhbmQoKSwgZGVhbGVyRHJhdygpLCAxMjAwKTtcbsKgwqB9XG4gIH0sMTAwMClcbsKgfVxuXG5mdW5jdGlvbiBjb21wYXJlSGFuZHMoKSB7XG4gICAgY29uc3QgcGxheWVyVmFsdWUgPSBjYXJkU3RhdHVzKHBsYXllckhhbmQpO1xuICAgIGNvbnN0IGRlYWxlclZhbHVlID0gY2FyZFN0YXR1cyhkZWFsZXJIYW5kKTtcblxuICAgIGlmKGRlYWxlclZhbHVlID09PSAnYmxhY2tqYWNrJykge1xuICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KCdEZWFsZXIgJyArIGNhcmRTdGF0dXMoZGVhbGVySGFuZCkgKyAnISBEZWFsZXIgV2lucyEnKTtcbiAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSk7XG5cbiAgICAgICBzZXRUaW1lb3V0KHNldHVwLCAyNTAwKTtcbiAgICB9XG5cbiAgICBpZihkZWFsZXJWYWx1ZSA+IDIxKSB7XG4gICAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnRleHQoJ0RlYWxlciBCdXN0ISBZb3Ugd2luIScpO1xuICAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICAgIHJlbmRlckJhbGFuY2UocGxheWVyQmFsYW5jZSA9IHBsYXllckJhbGFuY2UgKyB0aW1lc1R3byhyZWR1Y2VCZXRzKCkpKTtcblxuICAgICAgICAgc2V0VGltZW91dChzZXR1cCwgMjUwMCk7XG4gICAgfVxuICAgIGlmKHBsYXllclZhbHVlID09PSBkZWFsZXJWYWx1ZSB8fCBkZWFsZXJWYWx1ZSA9PT0gcGxheWVyVmFsdWUpIHtcbiAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykudGV4dChjYXJkU3RhdHVzKHBsYXllckhhbmQpICsgJyEgVGllIScpO1xuICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDI1MDApO1xuICAgICAgICByZW5kZXJCYWxhbmNlKHBsYXllckJhbGFuY2UgPSBwbGF5ZXJCYWxhbmNlICsgcmVkdWNlQmV0cygpKTtcblxuICAgICAgICBzZXRUaW1lb3V0KHNldHVwLCAyNTAwKTtcbiAgICB9XG5cbiAgICBpZihwbGF5ZXJWYWx1ZSA8IGRlYWxlclZhbHVlICYmIGRlYWxlclZhbHVlID49IDE3ICYmIGRlYWxlclZhbHVlIDw9IDIxKSB7XG4gICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KGNhcmRTdGF0dXMocGxheWVySGFuZCkgKyAnISBEZWFsZXIgV2lucyEnKTtcbiAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KHNldHVwLCAyNTAwKTtcbiAgICB9XG5cbmlmKHBsYXllclZhbHVlID49IDE3ICYmIHBsYXllclZhbHVlIDw9IDIxICYmIGRlYWxlclZhbHVlID49IDE3ICYmIGRlYWxlclZhbHVlIDw9IDIxKSB7XG4gICAgaWYoZGVhbGVyVmFsdWUgPiBwbGF5ZXJWYWx1ZSkge1xuICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KGNhcmRTdGF0dXMocGxheWVySGFuZCkgKyAnISBEZWFsZXIgV2lucyEnKTtcbiAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSk7XG4gICAgXG4gICAgICAgIHNldFRpbWVvdXQoc2V0dXAsIDI1MDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnRleHQoY2FyZFN0YXR1cyhwbGF5ZXJIYW5kKSArICchIFlvdSB3aW4hIFRoaXMnKTtcbiAgICAgICAgIGFuaW1hdGlvbkRpc3BsYXlSZXN1bHQoMjUwMCk7XG4gICAgICAgICByZW5kZXJCYWxhbmNlKHBsYXllckJhbGFuY2UgPSBwbGF5ZXJCYWxhbmNlICsgdGltZXNUd28ocmVkdWNlQmV0cygpKSk7XG4gICAgIFxuICAgICAgICAgc2V0VGltZW91dChzZXR1cCwgMjUwMCk7XG4gICAgfVxuIH1cbn1cblxuLy8gRm9yIGJsYWNramFja1xuZnVuY3Rpb24gZXZhbHVhdGVCZXN0SGFuZCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgaWYoY2FyZFN0YXR1cyhwbGF5ZXJIYW5kKSA9PT0gJ2JsYWNramFjaycpIHtcbiAgICAgIGZsaXBDYXJkKCk7IFxuICAgICAgZGVhbGVyRHJhdygpO1xuICAgIGlmIChjYXJkU3RhdHVzKGRlYWxlckhhbmQpID09PSAnYmxhY2tqYWNrJykge1xuICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KGNhcmRTdGF0dXMocGxheWVySGFuZCkgKyAnISBUaWUhJyk7XG4gICAgICAgIGFuaW1hdGlvbkRpc3BsYXlSZXN1bHQoMjUwMCk7XG4gICAgICAgIHJlbmRlckJhbGFuY2UocGxheWVyQmFsYW5jZSA9IHBsYXllckJhbGFuY2UgKyByZWR1Y2VCZXRzKCkpO1xuICAgICAgICBzZXRUaW1lb3V0KHNldHVwLCAyNTAwKTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnRleHQoY2FyZFN0YXR1cyhwbGF5ZXJIYW5kKSArICchIFlvdSB3aW4hIG9yJyk7XG4gICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDI1MDApO1xuICAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSArIHRpbWVzVHdvKHJlZHVjZUJldHMoKSkpO1xuICAgICBcbiAgICAgICAgIHNldFRpbWVvdXQoc2V0dXAsIDI1MDApO1xuICAgICB9XG4gIH0gZWxzZSB7XG4gICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KCdTb3JyeSwgbm8gYmxhY2tqYWNrISBLZWVwIGdvaW5nPycpO1xuICAgICAgIGFuaW1hdGlvbkRpc3BsYXlSZXN1bHQoMjUwMCk7XG4gICAgICAgZW5hYmxlQnV0dG9ucygpO1xuICB9IFxuICB9LDUwMCk7XG59XG5cblxuXG5mdW5jdGlvbiBldmFsdWF0ZU9uSGl0KCkge1xuICAgIGlmKGNhcmRTdGF0dXMocGxheWVySGFuZCkgPiAyMSkge1xuICAgICAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgICAgICBkaXNwbGF5UGxheWVySGFuZCgpO1xuICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KGNhcmRTdGF0dXMocGxheWVySGFuZCkgKyAnISBZb3UgQnVzdCEnKTtcbiAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgyNTAwKTtcbiAgICAgICAgcmVuZGVyQmFsYW5jZShwbGF5ZXJCYWxhbmNlID0gcGxheWVyQmFsYW5jZSk7XG4gICAgICAgIHNldFRpbWVvdXQoc2V0dXAsIDI1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygncHVrZScpO1xuICAgICAgfVxufTtcblxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2xlYW5UYWJsZSwyMDAwKVxuICAgICAgICBzZXRUaW1lb3V0KHN0YXJ0VHVybiwzMDAwKVxufVxuXG5cbiAgICAgICAgLy8gTWFrZSBhIGN1cnJ5IG9mIHRoYXRzIGRpc3BsYXkgdGV4dC5cbiAgICAgICAgLy8gcGxhY2UgYmV0LCBjYW50IGJlIGJldCBvdmVyIG1heCBiZXQuIFxuICAgICAgICAvLyBhbmQgdGhlbiBoYXZlIGEgbWluIGJldC5cblxuIiwiLy8gNC4gRGVhbGVyIGxvZ2ljXG4vLyBEZWFsZXIgc2hvdWxkIGhhbmQgdXQgY2FyZCB0byBwbGF5ZXIgb25lIGF0IGEgdGltZVxuLy8gU28gZmlyc3Qgb25lIGNhcmQgdG8gbWUgdGhlbiBvbmUgZmFjZSBkb3duIHRvIHRoZSBEZWFsZXJcbi8vIFRoZW4gYW5vdGhlciB0byBtZSB0aGVuIGEgZmFjZS11cCB0byB0aGUgZGVhbGVyLlxuXG4vLyB3ZSB3aWxsIHNwbGljZSgwLCAxKSB0byBkcmF3IGEgY2FyZC5cblxuLy8gSG93IHRvIHBsYWNlIGEgY2FyZCB0byB0aGUgcGxheWVyLlxuXG4vLyBIb3cgdG8gcGxhY2UgYSBjYXJkIHRvIHRoZSBkZWFsZXIgZmFjZS1kb3duLlxuXG5sZXQgcGxheWVySGFuZCA9IFtdO1xubGV0IHBsYXllclNwbGl0SGFuZCA9IFtdO1xubGV0IGRlYWxlckhhbmQgPSBbXTtcblxuXG5jb25zdCB2YWxpZFNwbGl0ID0ge1xuICAgIFxuICAgIHN0YXRlOiBmYWxzZSxcbiAgIFxuICAgIHJlc2V0KCkge1xuICAgICAgIHRoaXMuc2V0ID0gZmFsc2U7XG4gICAgfVxufTtcblxuXG5mdW5jdGlvbiBkZWFsc1RvUGxheWVyKHNwbGl0KSB7XG4gICAgLy8gRGVhbHMgdG9wIGNhcmQgdG8gcGxheWVyLCAhbmVlZCB0byBjaGVjayBpZiB1c2VyIG5lZWRzIHNwbGl0LlxuICAgICBjb25zdCBjYXJkID0gZGVjay5zcGxpY2UoMCwxKVswXTtcbiAgICAgc3BsaXQgPyBwbGF5ZXJTcGxpdEhhbmQucHVzaChjYXJkKSA6IHBsYXllckhhbmQucHVzaChjYXJkKTtcbiAgICAgLy8gQ3JlYXRpbmcgYSBjYXJkXG4gICAgIGNvbnN0IGNhcmRNYXJrdXAgPSBgXG4gICAgICA8ZGl2IGlkPVwiY2FyZFwiPlxuICAgICAgICA8ZmlndXJlIGNsYXNzPVwiY2FyZC1mcm9udFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7Y2FyZC5pbWd9KVwiPlxuICAgICAgICA8L2ZpZ3VyZT5cbiAgICAgICAgPGZpZ3VyZSBjbGFzcz1cImNhcmQtYmFja1wiPjwvZmlndXJlPlxuICAgICAgPC9kaXY+XG4gICAgIGA7XG5cbiAgICAgc3BsaXQgPyAkKCcjc3BsaXRab25lJykuYXBwZW5kKGNhcmRNYXJrdXApIDogJCgnI2NhcmRIb2xkZXInKS5hcHBlbmQoY2FyZE1hcmt1cCk7XG59O1xuXG5mdW5jdGlvbiBkZWFsc1RvRGVhbGVyKG9wZW4gPSB0cnVlKSB7XG7CoMKgLy8gRGVhbHMgdG9wIGNhcmQgdG8gZGVhbGVyIGZhY2UtZG93blxuwqDCoGNvbnN0IGNhcmQgPSBkZWNrLnNwbGljZSgwLCAxKVswXTtcbiAgZGVhbGVySGFuZC5wdXNoKGNhcmQpO1xuwqDCoC8vIENyZWF0aW5nIGEgY2FyZFxuwqDCoGNvbnN0IGNhcmRNYXJrdXAgPSBgXG7CoMKgwqDCoMKgwqA8ZGl2IGlkPVwiY2FyZFwiIGNsYXNzPVwiY2FyZC1kZWFsZXJcIj5cbsKgwqDCoMKgwqDCoMKgwqA8ZmlndXJlIGNsYXNzPVwiY2FyZC1mcm9udC1kZWFsZXIgJHtvcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCd9XCI+XG7CoMKgwqDCoMKgwqDCoMKgPC9maWd1cmU+XG7CoMKgwqDCoMKgwqDCoMKgPGZpZ3VyZSBjbGFzcz1cImNhcmQtYmFjay1kZWFsZXIgJHtvcGVuID8gJ2Nsb3NlZCcgOiAnb3Blbid9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtjYXJkLmltZ30pXCI+PC9maWd1cmU+XG7CoMKgwqDCoMKgwqA8L2Rpdj5cbsKgwqDCoMKgwqBgO1xuwqDCoCQoJyNkZWFsZXJDYXJkWm9uZScpLmFwcGVuZChjYXJkTWFya3VwKTtcblxufVxuXG5cbi8vIFNob3VsZCBvbmx5IHRhcmdldCB0aGUgZmlyc3QgY2FyZC5cbmZ1bmN0aW9uIGZsaXBDYXJkKCkge8KgwqDCoMKgXG7CoMKgJCgnI2NhcmQnKS5hZGRDbGFzcygnZmxpcHBlZCcpO1xufTtcblxuLy8gaWYgdXNlciB3YW50cyB0byBzcGxpdFxuLy8gdGFrZSBhcnJheSBpZiB3YW50IHRvIGNoYW5nZSBydWxlLlxuLy8gaWYgc3BsaXQgdHJ1ZSwgY2FuIG9ubHkgYnkgYXBwbGllZCBvbmNlLlxuZnVuY3Rpb24gdmFsaWRhdGVTcGxpdChhcnJheSwgbWF4U3BsaXQpIHtcbiAgICBpZihhcnJheVswXS52YWx1ZSA9PT0gYXJyYXlbMV0udmFsdWUgJiYgbWF4U3BsaXQgPT09IGZhbHNlICYmIHBsYXllckJhbGFuY2UgPj0gbWF4QmV0KSB7XG4gICAgICAgICB2YWxpZFNwbGl0LnN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICBwbGFjZUJldChtYXhCZXQpO1xuICAgICAgICAgICBnZXRCZXRDaGlwKG1heEJldCwgdHJ1ZSk7XG4gICAgICAgICAgIHBsYXllclNwbGl0SGFuZCA9IHBsYXllckhhbmQuc2xpY2UoMCwgMSk7XG4gICAgICAgICAgICBwbGF5ZXJIYW5kLnNwbGljZSgwLDEpO1xuICAgICAgICAgICAgJCgnI2NhcmRIb2xkZXInKS5jaGlsZHJlbignOmZpcnN0LWNoaWxkJykuYXBwZW5kVG8oJyNzcGxpdFpvbmUnKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodXBkYXRlRm9yT25lQ2FyZCwgMzAwKTtcbiAgICB9IGVsc2UgZmFsc2U7XG4gICBcbiB9XG5cbi8vIEV2ZW50IGxpc3RuZXIgZm9yIGJ1dHRvbi5cbiQoJy5zcGxpdC1idXR0b24nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgdmFsaWRhdGVTcGxpdChwbGF5ZXJIYW5kLCB2YWxpZFNwbGl0LnN0YXRlKTtcbiAgICBcbn0pO1xuXG5cblxuJCgnLmhpdC1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblxuICAgIGlmKHZhbGlkU3BsaXQuc3RhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICQoJy5zcGxpdC1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKS5hZGRDbGFzcygnYnV0dG9uLWRpc2FibGVkJylcbiAgICAgICAgZGVhbHNUb1BsYXllcihvcGVuID0gZmFsc2UpO1xuICAgICAgICBkaXNwbGF5UGxheWVySGFuZCgpO1xuICAgICAgICBldmFsdWF0ZU9uSGl0KCk7XG4gICAgfSBlbHNlIHJldHVybiBpZlNwbGl0VHJ1ZSgpO1xufSk7XG5cbmZ1bmN0aW9uIGlmU3BsaXRUcnVlKCkge1xuICAgIHZhbGlkU3BsaXQuc3RhdGUgPT09IHRydWUgPyBkZWFsc1RvUGxheWVyKG9wZW4gPSB0cnVlKSArIGRlYWxzVG9QbGF5ZXIob3BlbiA9IGZhbHNlKTogZmFsc2U7XG4gICAgIHNldFRpbWVvdXQoZGlzcGxheVBsYXllckhhbmQoKSxkaXNwbGF5UGxheWVyU3BsaXQoKSwgMTAwMCk7IFxufVxuIiwiXG5cbmZ1bmN0aW9uIGFuaW1hdGlvbkRpc3BsYXlSZXN1bHQodGltZSkge1xuICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLmFkZENsYXNzKCdzaG93LWRpc3BsYXktcmVzdWx0Jyk7XG4gICAgc2V0VGltZW91dCggKCk9PiB7XG4gICAgICAgICQoJy5kaXNwbGF5LXJlc3VsdCcpLnJlbW92ZUNsYXNzKCdzaG93LWRpc3BsYXktcmVzdWx0Jyk7XG4gICAgfSwgdGltZSk7XG59XG5cblxuIiwiXG5mdW5jdGlvbiBjbGVhblRhYmxlKCkge1xuICAgICAgICB2YWxpZFNwbGl0LnJlc2V0KCk7XG4gICAgICAgIHJlbW92ZUNoaXBzKCk7XG4gICAgICAgIHJldHVybkNhcmRzKHBsYXllckhhbmQpO1xuICAgICAgICByZXR1cm5DYXJkcyhkZWFsZXJIYW5kKTtcbiAgICAgICAgcmV0dXJuQ2FyZHMocGxheWVyU3BsaXRIYW5kKTtcbiAgICAgICAgY2xlYXJIYW5kcygpO1xuICAgICAgICByZW1vdmVDYXJkcygpO1xuICAgICAgICBjbGVhclN0YXRzKCk7XG4gICAgICAgIHJlc2V0U3BsaXRCdXR0b24oKTtcbiAgICB9XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaXBzKCkge1xuICAgICQoJyNzcGxpdEJldFpvbmUnKS5lbXB0eSgpO1xuICAgICQoJyNwbGF5ZXJCZXRab25lJykuZW1wdHkoKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2FyZHMoKSB7XG4gICAgJCgnI3NwbGl0Wm9uZScpLmVtcHR5KCk7XG4gICAgJCgnI2NhcmRIb2xkZXInKS5lbXB0eSgpO1xuICAgICQoJyNkZWFsZXJDYXJkWm9uZScpLmVtcHR5KCk7XG59XG5cbmZ1bmN0aW9uIHJldHVybkNhcmRzKGFycmF5KSB7XG4gICBhcnJheS5mb3JFYWNoKCAoZSxpbmRleCkgPT4ge1xuICAgIHJldHVybiBkZWNrLnB1c2goZSk7XG4gICB9KTtcbn0gXG5cbmZ1bmN0aW9uIGNsZWFySGFuZHMoKSB7XG4gICAgcGxheWVySGFuZCA9IFtdO1xuICAgIGRlYWxlckhhbmQgPSBbXTtcbiAgICBwbGF5ZXJTcGxpdEhhbmQgPSBbXTtcbiAgICBwbGF5ZXJCZXRzID0gW107XG59XG5cbmZ1bmN0aW9uIGNsZWFyU3RhdHMoKSB7XG4gICAgJCgnI2RlYWxlci1zdGF0cycpLnRleHQoJ0RlYWxlciBIYW5kOiAnKTtcbiAgICAkKCcjcGxheWVyLXN0YXRzJykudGV4dCgnUGxheWVyIEhhbmQ6ICcpO1xuICAgICQoJyNzcGxpdC1zdGF0cycpLnRleHQoJ1BsYXllciBTcGxpdDogJyk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3BsaXRCdXR0b24oKSB7XG4gICAgICQoJy5zcGxpdC1idXR0b24nKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIikucmVtb3ZlQ2xhc3MoJ2J1dHRvbi1kaXNhYmxlZCcpO1xufSIsIi8vIGZ1bmN0aW9uIHRoYXQgaW5pdGlhdGUgYWZ0ZXIgdXNlciBjbGlja3Mgc3RhcnQuXG4vLyBSZWFkeSB0byBwbGF5LlxuLy8gQW5kIGdvdCBzb21lIHJ1bGVzIGF2bGlhYmxlIHRvIGhpbSBvciBoZXIuXG4kKCcuc3RhcnQtYnV0dG9uJykub24oJ2NsaWNrJywgc3RhcnRUdXJuKTtcblxuIGZ1bmN0aW9uIHN0YXJ0VHVybigpIHtcbiAgICBcbiAgICAgXG4gICAgIGlmKHZhbGlkYXRlQmV0KG1heEJldCkgPT09IDApIHtcbiAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykudGV4dCgnU29ycnksIHlvdSBkb250IGhhdmUgZW5vdWdoIGNoaXBzISBNYXggQmV0IGlzICcgKyBtYXhCZXQpO1xuICAgICAgICAgYW5pbWF0aW9uRGlzcGxheVJlc3VsdCgzNTAwKTtcbiAgICAgICAgIFxuICAgICAgICAgZGlzYWJsZUJ1dHRvbnMoKTtcbiAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAkKCcuZGlzcGxheS1yZXN1bHQnKS50ZXh0KCdUaGFua3MgQ29tZSBBZ2FpbiEnKTtcbiAgICAgICAgIGFuaW1hdGlvbkRpc3BsYXlSZXN1bHQoMzUwMCk7XG4gICAgICAgICB9LDM4MDApO1xuICAgIH0gZWxzZSB7XG4gICAgJCgnLnN0YXJ0LXdpbmRvdycpLnJlbW92ZSgpO1xuICAgIGRpc2FibGVCdXR0b25zKCk7XG4gICAgZGlzcGxheVR1cm4oKTtcbiAgICBwbGF5ZXJCZXRzID0gW107XG4gICAgY2hhbmdlVHVybigpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5TWF4QmV0KCk7XG4gICAgICAgIHBsYWNlQmV0KG1heEJldCk7XG4gICAgICAgIGdldEJldENoaXAobWF4QmV0LCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAkKCcuYWRkU3ViLXRvb2x0aXAnKS5hZGRDbGFzcygnc2hvdy10b29sdGlwJyk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9QbGF5ZXIsIDEyMDApO1xuICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9EZWFsZXIoZmFsc2UpLCAxNDAwKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICQoJy5hZGRTdWItdG9vbHRpcCcpLnJlbW92ZUNsYXNzKCdzaG93LXRvb2x0aXAnKTtcbiAgICAgICAgfSwgNzAwKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGRlYWxzVG9QbGF5ZXIsIDE2MDApO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZGVhbHNUb0RlYWxlciwgMTgwMCk7XG4gICAgICAgIFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGRpc3BsYXlEZWFsZXJIYW5kKClcbiAgICAgICAgICAgIGRpc3BsYXlQbGF5ZXJIYW5kKCk7XG4gICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgJCgnLmRpc3BsYXktcmVzdWx0JykudGV4dCgnRGVhbGVyIGlzIGNoZWNraW5nIHlvdXIgaGFuZCBmb3IgYmxhY2tqYWNrLi4uJyk7XG4gICAgICAgICBhbmltYXRpb25EaXNwbGF5UmVzdWx0KDE4MDApO1xuICAgICAgICB9LCAyMjAwKTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoZXZhbHVhdGVCZXN0SGFuZCwgNTAwMCk7XG5cbiAgICAgfSwgMTUwMCk7XG4gICAgfVxuICAgIH07XG4gIFxuXG5cblxuXG5cbiQoJy5zdGF5LWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICBmbGlwQ2FyZCgpO1xuICAgICByZXR1cm4gZGVhbGVyRHJhdygpO1xufSk7XG5cblxuZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbnMoKSB7XG4gICAgJCgnLmhpdC1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuc3BsaXQtYnV0dG9uJykuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XG4gICAgJCgnLmRvdWJsZS1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbiAgICAkKCcuc3RheS1idXR0b24nKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcbn0gZGlzYWJsZUJ1dHRvbnMoKTtcblxuXG5mdW5jdGlvbiBlbmFibGVCdXR0b25zKCkge1xuICAgICQoJy5oaXQtYnV0dG9uJykucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICQoJy5zcGxpdC1idXR0b24nKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgJCgnLmRvdWJsZS1idXR0b24nKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XG4gICAgJCgnLnN0YXktYnV0dG9uJykucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xufVxuXG4iLCJcbmNvbnN0IGRlY2sgPSBjYXJkRGF0YTtcblxuZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xuICB2YXIgbSA9IGFycmF5Lmxlbmd0aDtcbiAgdmFyIGk7XG4gIHZhciB0O1xuXG4gIC8vIFdoaWxlIHRoZXJlIHJlbWFpbiBlbGVtZW50cyB0byBzaHVmZmxl4oCmXG4gIHdoaWxlIChtKSB7XG5cbiAgICAvLyBQaWNrIGEgcmVtYWluaW5nIGVsZW1lbnTigKZcbiAgICBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbS0tKTtcbiAgICAvLyBBbmQgc3dhcCBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQuXG4gICAgdCA9IGFycmF5W21dO1xuICAgIGFycmF5W21dID0gYXJyYXlbaV07XG4gICAgYXJyYXlbaV0gPSB0O1xuICB9XG5cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5zaHVmZmxlKGRlY2spO1xuXG5cbiIsIlxuXG5jb25zdCBjYXJkRGF0YSA9IFtcbntcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMTBfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMTBfb2ZfZGlhbW9uZHMuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMTBfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzEwX29mX3NwYWRlcy5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8yX29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDJcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMl9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAyXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzJfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDJcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvMl9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogMlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy8zX29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDNcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvM19vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAzXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzNfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDNcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvM19vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogM1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy80X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDRcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNF9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA0XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzRfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDRcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNF9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogNFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy81X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDVcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNV9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA1XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzVfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDVcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNV9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogNVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy82X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDZcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNl9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA2XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzZfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDZcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvNl9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogNlxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy83X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDdcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvN19vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA3XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzdfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDdcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvN19vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogN1xufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy84X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDhcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOF9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA4XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzhfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDhcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOF9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogOFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy85X29mX2NsdWJzLnN2ZycsXG4gICAgdmFsdWU6IDlcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOV9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiA5XG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzLzlfb2ZfaGVhcnRzLnN2ZycsXG4gICAgdmFsdWU6IDlcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvOV9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogOVxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9hY2Vfb2ZfY2x1YnMuc3ZnJyxcbiAgICB2YWx1ZTogMVxuICAgIFxufSwge1xuICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDFcbiAgICBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX2hlYXJ0cy5zdmcnLFxuICAgIHZhbHVlOiAxXG4gICAgXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2FjZV9vZl9zcGFkZXMuc3ZnJyxcbiAgICB2YWx1ZTogMVxuICAgIFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9qYWNrX29mX2NsdWJzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9qYWNrX29mX2RpYW1vbmRzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9qYWNrX29mX2hlYXJ0czIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvamFja19vZl9zcGFkZXMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2tpbmdfb2ZfY2x1YnMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2tpbmdfb2ZfZGlhbW9uZHMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL2tpbmdfb2ZfaGVhcnRzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9raW5nX29mX3NwYWRlczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn0sIHtcbiAgICBpbWc6ICdpbWFnZXMvY2FyZHMvcXVlZW5fb2ZfY2x1YnMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL3F1ZWVuX29mX2RpYW1vbmRzMi5zdmcnLFxuICAgIHZhbHVlOiAxMFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9xdWVlbl9vZl9oZWFydHMyLnN2ZycsXG4gICAgdmFsdWU6IDEwXG59LCB7XG4gICAgaW1nOiAnaW1hZ2VzL2NhcmRzL3F1ZWVuX29mX3NwYWRlczIuc3ZnJyxcbiAgICB2YWx1ZTogMTBcbn1dO1xuXG5jb25zdCB0ZXN0Q2FyZERhdGEgPSBbXG57XG4gIGltZzogJ2ltYWdlcy9jYXJkcy9hY2Vfb2ZfZGlhbW9uZHMuc3ZnJyxcbiAgICB2YWx1ZTogMVxuICAgIFxufSwge1xuICAgIGltZzogJ2ltYWdlcy9jYXJkcy9xdWVlbl9vZl9zcGFkZXMyLnN2ZycsXG4gICAgdmFsdWU6IDFcbn0sIHtcbiAgaW1nOiAnaW1hZ2VzL2NhcmRzL2FjZV9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAxMFxuICAgIFxufSAsIHtcbiAgaW1nOiAnaW1hZ2VzL2NhcmRzL2FjZV9vZl9kaWFtb25kcy5zdmcnLFxuICAgIHZhbHVlOiAxXG4gICAgXG59LCAge1xuICBpbWc6ICdpbWFnZXMvY2FyZHMvYWNlX29mX2RpYW1vbmRzLnN2ZycsXG4gICAgdmFsdWU6IDFcbiAgICBcbn1cblxuXTtcblxuXG4gY29uc3QgcHJlbG9hZEltYWdlID0gdXJsID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbsKgwqDCoMKgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG7CoMKgwqDCoGltZy5zcmMgPSB1cmw7XG7CoMKgwqDCoHNldFRpbWVvdXQoKCkgPT4ge1xuwqDCoMKgwqDCoMKgwqDCoGltZy5vbmxvYWQgPSByZXNvbHZlKGltZyk7XG7CoMKgwqDCoMKgwqDCoMKgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG7CoMKgwqDCoH0sIDEwMClcbn0pO1xuXG5Qcm9taXNlLmFsbChjYXJkRGF0YS5tYXAoY2FyZCA9PiBwcmVsb2FkSW1hZ2UoY2FyZC5pbWcpKSkudGhlbihyZXMgPT4ge1xuXG7CoMKgwqDCoCQoIFwiI2dhbWVXaW5kb3dcIiApLnJlbW92ZSgpO1xuXG59KTtcblxuXG5cblxuXG5cblxuLy8gV29yayBpbiB0aGUgY29uc29sZSBmb3Igbm93LiB0aGVuIGFwcGVuZCByZXN1bHRzIGluIGRvbS5cblxuLy8gMS4gQnVpbGQgQXJyYXkgb2YgY2FyZCBPYmplY3QsIHdpdGggaW1hZ2UgbmFtZXMgYW5kIHZhbHVlcy5cblxuLy8gMi4gV2Ugd2FudCB0byByZXR1cm4gYSBuZXcgQXJyYXksIHNodWZmbGVkIGRlY2suXG4vLyBXaWNoIGNhbiBlaXRoZXIgYmUsIHRoYXQgaSB0YWtlIG91dCBhIHJhbmRvbSBjYXJkLCBvciBJIHdpbGxcbi8vIGFzc2VtYmxlIHRoZSBvcmRlciBvZiB0aGUgZGVjayByYW5kb21seS4gXG5cbi8vIDMuIERyYXcgY2FyZCBmcm9tIHRvcCBvZiB0aGUgZGVjay5cblxuLy8gNC4gRGVhbGVyIGxvZ2ljXG4vLyBEZWFsZXIgc2hvdWxkIGhhbmQgdXQgY2FyZCB0byBwbGF5ZXIgb25lIGF0IGEgdGltZVxuLy8gU28gZmlyc3Qgb25lIGNhcmQgdG8gbWUgdGhlbiBvbmUgZmFjZSBkb3duIHRvIHRoZSBEZWFsZXJcbi8vIFRoZW4gYW5vdGhlciB0byBtZSB0aGVuIGEgZmFjZS11cCB0byB0aGUgZGVhbGVyLlxuIiwiY29uc3QgY2hpcERhdGEgPSB7XG7CoMKgwqDCoGNoaXBfMToge1xuwqDCoMKgwqDCoMKgwqDCoGltZzogJ2ltYWdlcy9jaGlwcy9jaGlwLTEuc3ZnJyxcbsKgwqDCoMKgwqDCoMKgwqB2YWx1ZTogMSxcbiAgICAgICAgY2xhc3M6ICdvbmUnXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfMjoge1xuwqDCoMKgwqDCoMKgwqDCoGltZzogJ2ltYWdlcy9jaGlwcy9jaGlwLTIuc3ZnJyxcbsKgwqDCoMKgwqDCoMKgwqB2YWx1ZTogMixcbiAgICAgICAgY2xhc3M6ICd0d28nXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfNTrCoMKge1xuwqDCoMKgwqDCoMKgwqDCoGltZzogJ2ltYWdlcy9jaGlwcy9jaGlwLTUuc3ZnJyxcbsKgwqDCoMKgwqDCoMKgwqB2YWx1ZTogNSxcbiAgICAgICAgY2xhc3M6ICdmaXZlJ1xuwqDCoMKgwqB9LFxuwqDCoMKgwqBjaGlwXzEwOiB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nOiAnaW1hZ2VzL2NoaXBzL2NoaXAtMTAuc3ZnJyxcbsKgwqDCoMKgwqDCoMKgwqB2YWx1ZTogMTAsXG4gICAgICAgIGNsYXNzOiAndGVuJ1xuXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfMjA6IHtcbsKgwqDCoMKgwqDCoMKgwqBpbWc6ICcuLi9pbWFnZXMvY2hpcHMvY2hpcC0yMC5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiAyMCxcbsKgwqDCoMKgwqDCoMKgwqBjbGFzczogJ3R3ZWVudHknXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfNTA6IHtcbsKgwqDCoMKgwqDCoMKgwqBpbWc6ICcuLi9pbWFnZXMvY2hpcHMvY2hpcC01MC5zdmcnLFxuwqDCoMKgwqDCoMKgwqDCoHZhbHVlOiA1MCxcbiAgICAgICAgY2xhc3M6ICdmaWZ0aHknXG7CoMKgwqDCoH0sXG7CoMKgwqDCoGNoaXBfMTAwOiB7XG7CoMKgwqDCoMKgwqDCoMKgaW1nOiAnaW1hZ2VzL2NoaXBzL2NoaXAtMTAwLnN2ZycsXG7CoMKgwqDCoMKgwqDCoMKgdmFsdWU6IDEwMCxcbiAgICAgICAgY2xhc3M6ICdodW5kcmVkJ1xuXG7CoMKgwqDCoH1cbn07IiwiY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZC1mcm9udCcpO1xuY29uc3QgY2FyZEhvbGRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkSG9sZGVyJyk7XG5jb25zdCBzcGxpdFpvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3BsaXRab25lJyk7XG5jb25zdCBkZWFsZXJDYXJkWm9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZWFsZXJDYXJkWm9uZScpO1xuXG5cbi8vIExheSBvdXQgdGhlIGNhcmRzIHdpdGggYSBhbmQgZXh0cmEgbWFyZ2luIGZyb20gdGhlIGZpcnN0LlxuLy8gVGhlbiByZXZlcnNlIHRoZSBhcnJheSB0byBnZXQgaXQgdG8gZG8gc3BsYXkgcmlnaHQgdG8gbGVmdC5cbi8vIGZ1bmN0aW9uIHJ1bigpIHtcbi8vICAgdmFyICBjb3VudCA9IC0yO1xuLy8gICBhcnJheS5yZXZlcnNlKCk7XG4vLyAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuLy8gICAgIGNvbnNvbGUubG9nKGNvdW50LS0pO1xuLy8gICAgIGFycmF5W2ldLnN0eWxlLm1hcmdpbkxlZnQgPSBcIlwiICsgY291bnQgKyAnZW0nICsgXCJcIjtcbi8vICB9IFxuLy8gIHJldHVybiBhcnJheS5yZXZlcnNlKCksXG4vLyAgY2FyZEhvbGRlci5zdHlsZS5tYXJnaW5MZWZ0ID0gXCJcIiArICBhcnJheS5sZW5ndGggKyAnZW0nICsgXCJcIixcbi8vICBzcGxpdFpvbmUuc3R5bGUubWFyZ2luTGVmdCA9IFwiXCIgKyAtKGFycmF5Lmxlbmd0aCkgKyAnZW0nICsgXCJcIixcbi8vICBkZWFsZXJDYXJkWm9uZS5zdHlsZS5tYXJnaW5MZWZ0ID0gXCJcIiArIChhcnJheS5sZW5ndGgpICsgJ2VtJyArIFwiXCI7XG4vLyB9XG5cblxuLy8gSnF1ZXJ5IHdheSBvZiB1cGRhdGluZyB0aGVtXG5cblxuXG4vLyAkKCcjZGVhbGVyQ2FyZFpvbmUnKS5vbignY2xpY2snLCcjY2FyZCcsIGZ1bmN0aW9uKGUpIHtcbi8vICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuLy8gXHQkKCB0aGlzICkudG9nZ2xlQ2xhc3MoJ2ZsaXBwZWQnKTtcbi8vIH0pO1xuXG5cblxuXG5cblxuXG4gIFxuIiwiXG4kKCBmdW5jdGlvbigpIHtcbiAgICAkKCBcIiNkcmFnZ2FibGVcIiApLmRyYWdnYWJsZSgpO1xuICB9ICk7Il19
